!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="http://localhost:8080/",n(n.s=4)}({"0v0P":function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"e",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"a",function(){return s}),t.c=function(e){var t=Math.round(e%60);if(60==t||0==t)return e/60;return Math.trunc(e/60)+t/100},t.b=function(e){var t=$(e.parent).find("input, textarea, select");t.each(function(){$(this).change(function(){var n=$(this),a={},r="";t.each(function(){r=$(this).attr("name");var e=$(this).val();a[r]=""==e?null:e});var o=validate(a,e.validate)||{};console.log(n,o),c(n,o[n.attr("name")])})})},t.d=function(e){var t=!0,n={};$(e.parent).find("input, textarea, select").each(function(){var e=$(this).attr("name"),t=$(this).val();n[e]=""==t?null:t});var a=validate(n,e.validate)||{};validate.isEmpty(a)?t=!1:(!function(e,t){var n=$(e.parent).find("input, textarea, select");console.log(t);var a=Object.keys(t);n.each(function(){var e=$(this),n=e.attr("name");a.map(function(a){a===n&&c(e,t[n])})})}(e,a),t=!0);return console.log("isError = "+t),t},t.h=function(){$("input, textarea, select").removeClass("has-success"),$("input, textarea, select").removeClass("has-error"),$(".messages-error").html("")};"function"==typeof Symbol&&Symbol.iterator;var a=function(e){return e.map(function(e){return Object.assign({},e)})},r=function(e,t){return e=e.replace("#",""),"rgba("+parseInt(e.substring(0,2),16)+","+parseInt(e.substring(2,4),16)+","+parseInt(e.substring(4,6),16)+","+t/100+")"},o=function(){return"#"+(16777215*Math.random()<<0).toString(16)},i=null,s={set:function(e){i=e.html();var t=e.attr("data-loading-text");e.html(t),e.prop("disabled",!0)},reset:function(e){e.html(i),e.prop("disabled",!1)}};function c(e,t){validate.isEmpty(t)?(e.removeClass("has-error"),e.addClass("has-success"),e.parent().find(".messages-error").html("")):(e.removeClass("has-success"),e.addClass("has-error"),e.parent().find(".messages-error").html(t[0]))}},4:function(e,t,n){e.exports=n("WvG0")},WvG0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("0v0P");var r="http://localhost:8000/api/";validate.validators.presence.message="is required";var o={parent:"form#form_register",validate:{email:{presence:!0,email:!0},password:{presence:{allowEmpty:!1},format:{pattern:"[a-zA-Z0-9]+",flags:"i",message:"can only contain a-Z and 0-9"},length:{minimum:6,message:"must be at least 6 characters"}},confirmPassword:{presence:{allowEmpty:!1},format:{pattern:"[a-zA-Z0-9]+",flags:"i",message:"can only contain a-Z and 0-9"},length:{minimum:6,message:"must be at least 6 characters"},equality:{attribute:"password"}},firstname:{presence:{allowEmpty:!1},length:{maximum:50}},lastname:{presence:{allowEmpty:!1},length:{maximum:50}},phone:{presence:{allowEmpty:!1},format:{pattern:"[0-9]+",flags:"i",message:"can only contain 0-9"},length:{minimum:10,maximum:10}}}},i=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=null,n=null,i=null,s=function(){$.ajax({url:r+"address/provinces",method:"GET",success:function(e){var n;t=e.data,n='<option value="">--Select province--</option>',t.map(function(e){n+='<option value="'+e.province_id+'">'+e.name_th+" "+e.name_en+"</option>"}),$("#province").html(n)},error:function(e){console.log(e)}})},c=function(e){$.ajax({url:r+"address/amphures/province/"+e,method:"GET",success:function(e){var t;n=e.data,t='<option value="">--Select amphure--</option>',n.map(function(e){t+='<option value="'+e.amphure_id+'">'+e.name_th+" "+e.name_en+"</option>"}),$("#amphure").html(t)},error:function(e){console.log(e)}})},l=function(e,t){$.ajax({url:r+"address/districts/province/"+e+"/amphure/"+t,method:"GET",success:function(e){var t;i=e.data,t='<option value="">--Select district--</option>',i.map(function(e){t+='<option value="'+e.district_id+'">'+e.name_th+" "+e.name_en+"</option>"}),$("#district").html(t)},error:function(e){console.log(e)}})},u=function(){$("#btn_register").unbind().click(function(){event.preventDefault(),a.a.set($("#btn_register")),$.ajax({url:r+"account/register",method:"POST",data:{accountname:$("#accountname").val(),fname:$("#fname").val(),lname:$("#lname").val(),email:$("#email").val(),password:$("#password").val(),phone:$("#phone").val(),address_detail:$("#address_detail").val(),province_id:$("#province").val(),amphure_id:$("#amphure").val(),district_id:$("#district").val(),checkbox_address:document.querySelector("#checkbox_address").checked},success:function(){a.a.reset($("#btn_register")),swal({title:"Create your account success !",text:"Please verify your  email address and  phone number before login",icon:"success"}).then(function(){window.location.href="Home"})},error:function(e){console.log(e),a.a.reset($("#btn_register"))}})}),$("#province").change(function(){$("#zip_code").val(""),""!=$(this).val()?($("#district").html('<option value="">--Select district--</option>'),c($(this).val())):($("#district").html('<option value="">--Select district--</option>'),$("#amphure").html('<option value="">--Select amphure--</option>'))}),$("#amphure").change(function(){$("#zip_code").val(""),""!=$(this).val()?l($("#province").val(),$(this).val()):$("#district").html('<option value="">--Select district--</option>')}),$("#district").change(function(){var e=this;if($("#zip_code").val(""),""!=$(this).val()){var t=i.filter(function(t){return t.district_id===$(e).val()});console.log(t),$("#zip_code").val(t[0].zip_code)}else $("#zip_code").val("")}),Object(a.b)(o),s()};this.initAndRun=function(){u()}};$(document).ready(function(){(new i).initAndRun()})}});
