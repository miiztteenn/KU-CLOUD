!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="http://localhost:8080/",n(n.s=4)}({"0v0P":function(t,e,n){"use strict";n.d(e,"f",function(){return a}),n.d(e,"e",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"a",function(){return s}),e.c=function(t){var e=Math.round(t%60);if(60==e||0==e)return t/60;return Math.trunc(t/60)+e/100},e.b=function(t){var e=$(t.parent).find("input, textarea, select");e.each(function(){$(this).change(function(){var n=$(this),a={},r="";e.each(function(){r=$(this).attr("name");var t=$(this).val();a[r]=""==t?null:t});var o=validate(a,t.validate)||{};console.log(n,o),c(n,o[n.attr("name")])})})},e.d=function(t){var e=!0,n={};$(t.parent).find("input, textarea, select").each(function(){var t=$(this).attr("name"),e=$(this).val();n[t]=""==e?null:e});var a=validate(n,t.validate)||{};validate.isEmpty(a)?e=!1:(!function(t,e){var n=$(t.parent).find("input, textarea, select");console.log(e);var a=Object.keys(e);n.each(function(){var t=$(this),n=t.attr("name");a.map(function(a){a===n&&c(t,e[n])})})}(t,a),e=!0);return console.log("isError = "+e),e},e.h=function(){$("input, textarea, select").removeClass("has-success"),$("input, textarea, select").removeClass("has-error"),$(".messages-error").html("")};"function"==typeof Symbol&&Symbol.iterator;var a=function(t){return t.map(function(t){return Object.assign({},t)})},r=function(t,e){return t=t.replace("#",""),"rgba("+parseInt(t.substring(0,2),16)+","+parseInt(t.substring(2,4),16)+","+parseInt(t.substring(4,6),16)+","+e/100+")"},o=function(){return"#"+(16777215*Math.random()<<0).toString(16)},i=null,s={set:function(t){i=t.html();var e=t.attr("data-loading-text");t.html(e),t.prop("disabled",!0)},reset:function(t){t.html(i),t.prop("disabled",!1)}};function c(t,e){validate.isEmpty(e)?(t.removeClass("has-error"),t.addClass("has-success"),t.parent().find(".messages-error").html("")):(t.removeClass("has-success"),t.addClass("has-error"),t.parent().find(".messages-error").html(e[0]))}},4:function(t,e,n){t.exports=n("WvG0")},WvG0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("0v0P");var r="http://localhost:8000/api/";validate.validators.presence.message="is required";var o={parent:"form#form_register",validate:{email:{presence:!0,email:!0},password:{presence:{allowEmpty:!1},format:{pattern:"[a-zA-Z0-9]+",flags:"i",message:"can only contain a-Z and 0-9"},length:{minimum:6,message:"must be at least 6 characters"}},confirmPassword:{presence:{allowEmpty:!1},format:{pattern:"[a-zA-Z0-9]+",flags:"i",message:"can only contain a-Z and 0-9"},length:{minimum:6,message:"must be at least 6 characters"},equality:{attribute:"password"}},firstname:{presence:{allowEmpty:!1},length:{maximum:50}},lastname:{presence:{allowEmpty:!1},length:{maximum:50}},phone:{presence:{allowEmpty:!1},format:{pattern:"[0-9]+",flags:"i",message:"can only contain 0-9"},length:{minimum:10,maximum:10}}}},i=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=null,n=null,i=null,s=function(){$.ajax({url:r+"address/provinces",method:"GET",success:function(t){var n;e=t.data,n='<option value="">--Select province--</option>',e.map(function(t){n+='<option value="'+t.province_id+'">'+t.name_th+" "+t.name_en+"</option>"}),$("#province").html(n)},error:function(t){console.log(t)}})},c=function(t){$.ajax({url:r+"address/amphures/province/"+t,method:"GET",success:function(t){var e;n=t.data,e='<option value="">--Select amphure--</option>',n.map(function(t){e+='<option value="'+t.amphure_id+'">'+t.name_th+" "+t.name_en+"</option>"}),$("#amphure").html(e)},error:function(t){console.log(t)}})},l=function(t,e){$.ajax({url:r+"address/districts/province/"+t+"/amphure/"+e,method:"GET",success:function(t){var e;i=t.data,e='<option value="">--Select district--</option>',i.map(function(t){e+='<option value="'+t.district_id+'">'+t.name_th+" "+t.name_en+"</option>"}),$("#district").html(e)},error:function(t){console.log(t)}})},u=function(){$("#btn_register").unbind().click(function(){event.preventDefault(),Object(a.d)(o)||(a.a.set($("#btn_register")),$.ajax({url:r+"account/register",method:"POST",data:{fname:$("#fname").val(),lname:$("#lname").val(),email:$("#email").val(),password:$("#password").val(),phone:$("#phone").val()},success:function(){a.a.reset($("#btn_register")),swal({title:"Create your account success !",text:"Please verify your  email address and  phone number before login",icon:"success"}).then(function(){window.location.href="Home"})},error:function(t){console.log(t),a.a.reset($("#btn_register"))}}))}),$("#province").change(function(){$("#zip_code").val(""),""!=$(this).val()?($("#district").html('<option value="">--Select district--</option>'),c($(this).val())):($("#district").html('<option value="">--Select district--</option>'),$("#amphure").html('<option value="">--Select amphure--</option>'))}),$("#amphure").change(function(){$("#zip_code").val(""),""!=$(this).val()?l($("#province").val(),$(this).val()):$("#district").html('<option value="">--Select district--</option>')}),$("#district").change(function(){var t=this;if($("#zip_code").val(""),""!=$(this).val()){var e=i.filter(function(e){return e.district_id===$(t).val()});console.log(e),$("#zip_code").val(e[0].zip_code)}else $("#zip_code").val("")}),Object(a.b)(o),s()};this.initAndRun=function(){u()}};$(document).ready(function(){(new i).initAndRun()})}});