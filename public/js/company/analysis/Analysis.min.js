!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="http://localhost:8080/",n(n.s=8)}({"0v0P":function(t,e,n){"use strict";n.d(e,"f",function(){return a}),n.d(e,"e",function(){return r}),n.d(e,"i",function(){return s}),n.d(e,"a",function(){return u}),e.c=function(t){var e=Math.round(t%60);if(60==e||0==e)return t/60;return Math.trunc(t/60)+e/100},e.b=function(t){var e=$(t.parent).find("input, textarea, select");e.each(function(){$(this).change(function(){var n=$(this),i={},a="";e.each(function(){a=$(this).attr("name");var t=$(this).val();i[a]=""==t?null:t});var r=validate(i,t.validate)||{};console.log(n,r),l(n,r[n.attr("name")])})})},e.d=function(t){var e=!0,n={};$(t.parent).find("input, textarea, select").each(function(){var t=$(this).attr("name"),e=$(this).val();n[t]=""==e?null:e});var i=validate(n,t.validate)||{};validate.isEmpty(i)?e=!1:(!function(t,e){var n=$(t.parent).find("input, textarea, select");console.log(e);var i=Object.keys(e);n.each(function(){var t=$(this),n=t.attr("name");i.map(function(i){i===n&&l(t,e[n])})})}(t,i),e=!0);return console.log("isError = "+e),e},e.j=function(){$("input, textarea, select").removeClass("has-success"),$("input, textarea, select").removeClass("has-error"),$(".messages-error").html("")},e.g=function(t){var e={};return function t(n,a){Array.isArray(n)?n.forEach(function(e,n){t(e,a.concat(n))}):null===n||"object"!==(void 0===n?"undefined":i(n))?e[a.join("/")]=n:Object.keys(n).forEach(function(e){t(n[e],a.concat(e))})}(t,[]),e},e.h=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t){return t.map(function(t){return Object.assign({},t)})},r=function(t,e){return t=t.replace("#",""),"rgba("+parseInt(t.substring(0,2),16)+","+parseInt(t.substring(2,4),16)+","+parseInt(t.substring(4,6),16)+","+e/100+")"},s=function(){return"#"+(16777215*Math.random()<<0).toString(16)},o=null,u={set:function(t){o=t.html();var e=t.attr("data-loading-text");t.html(e),t.prop("disabled",!0)},reset:function(t){t.html(o),t.prop("disabled",!1)}};function l(t,e){validate.isEmpty(e)?(t.removeClass("has-error"),t.addClass("has-success"),t.parent().find(".messages-error").html("")):(t.removeClass("has-success"),t.addClass("has-error"),t.parent().find(".messages-error").html(e[0]))}},8:function(t,e,n){t.exports=n("Wn/F")},"Wn/F":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0v0P");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r={tabSelect:"classify-tab",outputCluster:null,axis_x:0,axis_y:0},s=function t(){a(this,t);var e={axis_x:$("#axis_x"),axis_y:$("#axis_y")},n=(e.axis_x.val(),e.axis_y.val(),null),s=["#E53935","#1E88E5","#43A047","#FB8C00","#28a745","#ffc107","#17a2b8","#fd7e14","#6610f2","#dc3545"],o=[],u=null,l={responsive:!0},c=function(){if(null!=n){for(var t=[],e=Object.keys(u),a=function(n){var i=[];u[e[n]].map(function(t){i.push({x:t.values[r.axis_x],y:t.values[r.axis_y]})}),t.push(i)},o=0;o<e.length;o++)a(o);for(o=0;o<t.length;o++)for(var l=0;l<t[o].length;l++){if(isNaN(t[o][l].x))for(var c=0;c<r.outputCluster.header.attributes[r.axis_x].labels.length;c++)t[o][l].x===r.outputCluster.header.attributes[r.axis_x].labels[c]&&(t[o][l].x=c);else t[o][l].x=parseFloat(t[o][l].x);if(isNaN(t[o][l].y))for(var m=0;m<r.outputCluster.header.attributes[r.axis_y].labels.length;m++)t[o][l].y===r.outputCluster.header.attributes[r.axis_y].labels[m]&&(t[o][l].y=m);else t[o][l].y=parseFloat(t[o][l].y)}var _=[];t.map(function(t,e){var n=Object(i.h)(5,15);_.push({label:"Cluster"+e,data:t,pointHoverRadius:n,pointRadius:n,borderColor:s[e],backgroundColor:Object(i.e)(s[e],40)})}),n.data.datasets=_,n.update();var f={responsive:!0,scales:{xAxes:[{ticks:{callback:function(t,e){return"numeric"!==r.outputCluster.header.attributes[r.axis_x].type?r.outputCluster.header.attributes[r.axis_x].labels[t]:t}}}],yAxes:[{ticks:{callback:function(t,e){return"numeric"!==r.outputCluster.header.attributes[r.axis_y].type?r.outputCluster.header.attributes[r.axis_y].labels[t]:t}}}]}};n.options=f,n.update()}};this.bindElement=function(){e.axis_x.change(function(){r.axis_x=$(this).val(),null!=n&&c()}),e.axis_y.change(function(){r.axis_y=$(this).val(),null!=n&&c()})},this.createAxis=function(t){r.outputCluster=t.outputCluster;var i="";t.outputCluster.header.attributes.map(function(t,e){i+='<option value="'+e+'">'+t.name+"</option>"}),e.axis_x.html(i),e.axis_y.html(i);for(var a=0;a<t.outputCluster.data.length;a++)o.push(a);u=_.groupBy(t.outputCluster.data,function(t){return t.values[t.values.length-1]}),function(){if(null===n){var t=document.getElementById("scatter_chart").getContext("2d");n=new Chart(t,{type:"scatter",data:{datasets:[{}]},options:l})}else n.data.datasets=[{}],n.update();e.axis_x.change()}()}},o=function t(){a(this,t);var e=new function t(){var e=this;a(this,t);var n={number_of_clusters:$("#number_of_clusters"),method:$("#method"),max_candidates:$("#max_candidates"),min_density:$("#min_density")};this.type="cluster",this.number_of_clusters=n.number_of_clusters.val(),this.method=n.method.val(),this.max_candidates=n.max_candidates.val(),this.min_density=n.min_density.val();var i=this;this.bindElement=function(){n.number_of_clusters.change(function(){i.number_of_clusters=$(this).val()}),n.method.change(function(){i.method=$(this).val()}),n.max_candidates.change(function(){i.max_candidates=$(this).val()}),n.min_density.change(function(){i.min_density=$(this).val()})},this.getValue=function(){return{type:e.type,number_of_clusters:e.number_of_clusters,method:e.method,max_candidates:e.max_candidates,min_density:e.min_density}}},n=new function t(){var e=this;a(this,t);var n={number_of_rules:$("#number_of_rules"),metric_type:$("#metric_type"),minimum_confidence:$("#minimum_confidence"),delta_for_minimum_support:$("#delta_for_minimum_support"),upper_for_minimum_support:$("#upper_for_minimum_support"),lower_for_minimum_support:$("#lower_for_minimum_support")};this.type="associate",this.number_of_rules=n.number_of_rules.val(),this.metric_type=n.metric_type.val(),this.minimum_confidence=n.minimum_confidence.val(),this.delta_for_minimum_support=n.delta_for_minimum_support.val(),this.upper_for_minimum_support=n.upper_for_minimum_support.val(),this.lower_for_minimum_support=n.lower_for_minimum_support.val();var i=this;this.bindElement=function(){n.number_of_rules.change(function(){i.number_of_rules=$(this).val()}),n.metric_type.change(function(){i.metric_type=$(this).val()}),n.minimum_confidence.change(function(){i.minimum_confidence=$(this).val()}),n.delta_for_minimum_support.change(function(){i.delta_for_minimum_support=$(this).val()}),n.upper_for_minimum_support.change(function(){i.upper_for_minimum_support=$(this).val()}),n.lower_for_minimum_support.change(function(){i.lower_for_minimum_support=$(this).val()})},this.getValue=function(){return{type:e.type,number_of_rules:e.number_of_rules,metric_type:e.metric_type,minimum_confidence:e.minimum_confidence,delta_for_minimum_support:e.delta_for_minimum_support,upper_for_minimum_support:e.upper_for_minimum_support,lower_for_minimum_support:e.lower_for_minimum_support}}},o=new s,u=new function t(){var e=this;a(this,t);var n={confidence_threshold:$("#confidence_threshold"),minimum_number_of_instances:$("#minimum_number_of_instances"),number_of_folds:$("#number_of_folds")};this.type="J48",this.confidence_threshold=n.confidence_threshold.val(),this.minimum_number_of_instances=n.minimum_number_of_instances.val(),this.number_of_folds=n.number_of_folds.val();var i=this;this.bindElement=function(){n.confidence_threshold.change(function(){i.confidence_threshold=$(this).val()}),n.minimum_number_of_instances.change(function(){i.minimum_number_of_instances=$(this).val()}),n.number_of_folds.change(function(){i.number_of_folds=$(this).val()})},this.getValue=function(){return{type:e.type,confidence_threshold:e.confidence_threshold,minimum_number_of_instances:e.minimum_number_of_instances,number_of_folds:e.number_of_folds}}},l=null,c=null,m="",_=function(){var t,a=null;"cluster-tab"===r.tabSelect?a=e.getValue():"associate-tab"===r.tabSelect?a=n.getValue():"classify-tab"===r.tabSelect&&(a=u.getValue()),t={type:a.type,traningFile:m,param:a},i.a.set($("#btn_process")),d3.select("#graph").selectAll("svg").remove(),$.ajax({url:"http://localhost:8000/api/company/analysis",method:"POST",data:t,success:function(t){var e;c=t.data,console.log(c),e="",c.outputText.map(function(t){e+=t+"\n"}),$(".result").show(),$("#outputText").html(e),c.tree&&d3.select("#graph").graphviz().fade(!1).renderDot(c.tree),c.outputCluster?($("#visualize").show(),o.createAxis(c)):$("#visualize").hide(),i.a.reset($("#btn_process"))},error:function(t){console.log(t),i.a.reset($("#btn_process"))}})},f=function(){$.ajax({url:"http://localhost:8000/api/company/analysis/data",success:function(t){var e;l=t.data,console.log(l),e="<option value=''>--Select training file--</option>",l.map(function(t){e+='<option value="'+t.data_id+'">'+t.name+"</option>"}),$("#training_file").html(e)},error:function(t){console.log(t)}})};this.initAndRun=function(){$("#btn_process").unbind().click(function(){_()}),$(".tab-basic .nav-link").unbind().click(function(){$("#outputText").html(""),$(".result").hide(),r.tabSelect=$(this).attr("id"),d3.select("#graph").selectAll("svg").remove(),$("#visualize").hide()}),$("#training_file").change(function(){m=$(this).val()}),e.bindElement(),n.bindElement(),o.bindElement(),f()}};$(document).ready(function(){(new o).initAndRun()})}});