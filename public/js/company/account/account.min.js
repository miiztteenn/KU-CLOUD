!function(e){var n={};function t(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="http://localhost:8080/",t(t.s=2)}({2:function(e,n,t){e.exports=t("9c9X")},"9c9X":function(e,n){var t="http://localhost:8000/api/",a="account",s="account/profile",i="account/email",o="account/email",r="account/email",c="account/phone",l="account/phone",u="account/phone",d=function e(){var n=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);var d=null,p=function(e){var n=$(e).attr("email"),a=$(e).attr("index");$.ajax({url:t+r,method:"DELETE",data:{email:n},success:function(e){$("#email-"+a).remove()},error:function(e){console.log(e)}})},f=function(e){var n=$(e).attr("phone"),a=$(e).attr("index");$.ajax({url:t+u,method:"DELETE",data:{phone:n},success:function(e){$("#phone-"+a).remove()},error:function(e){console.log(e)}})},m=function(){var e=$("input[name='add-email']").val();$.ajax({url:t+o,method:"POST",data:{email:e},success:function(e){$("input[name='add-email']").val(""),n.showDataLast()},error:function(e){}})},h=function(){var e=$("#select-email").val();$.ajax({url:t+i,method:"PUT",data:{email:e},success:function(e){n.showDataLast()},error:function(e){console.log(e)}})},g=function(){var e=$("input[name='add-phone']").val();$.ajax({url:t+l,method:"POST",data:{phone:e},success:function(e){$("input[name='add-phone']").val(""),n.showDataLast()},error:function(e){}})},b=function(){var e=$("#select-phone").val();$.ajax({url:t+c,method:"PUT",data:{phone:e},success:function(e){n.showDataLast()},error:function(e){console.log(e)}})};this.initialAndRun=function(){n.showDataLast(),$("input[name='img-profile']").change(function(){$("#imageUploadForm").submit()}),$("#imageUploadForm").on("submit",function(e){e.preventDefault(),console.log(this);var n=new FormData(this);$.ajax({type:"POST",url:t+s,data:n,cache:!1,contentType:!1,processData:!1,success:function(e){location.reload()},error:function(e){console.log("error"),console.log(e)}})}),$("#btn-add-email").unbind().click(function(){m()}),$("#btn-save-email-pri").unbind().click(function(){h()}),$("#btn-add-phone").unbind().click(function(){g()}),$("#btn-save-phone-pri").unbind().click(function(){b()})},this.showDataLast=function(){$.ajax({url:t+a,success:function(e){var n,t,a,s;d=e.data,n="",t=d.email.map(function(e,t){return status="",e.is_primary&&(status+='<span class="badge badge-pill badge-primary d-flex justify-content-center align-items-center">Primary</span>'),e.is_verify&&!e.is_primary?(n+="<option value="+e.email_user+">"+e.email_user+"</option>",status+='<span class="badge badge-pill badge-success d-flex justify-content-center align-items-center">Verify success</span> \n                               <i class="far fa-trash-alt text-danger ml-3 btn-delete-email"  style="cursor:pointer" email="'+e.email_user+'" index="'+t+'"></i>'):e.is_verify&&e.is_primary?status+='<span class="badge badge-pill badge-success d-flex justify-content-center align-items-center">Verify success</span> ':status+='<span class="badge badge-pill badge-danger d-flex justify-content-center align-items-center">Verify not success</span> \n                               <i class="fas fa-paper-plane text-primary  ml-3" style="cursor:pointer" email="'+e.email_user+'"></i> \n                               <i class="far fa-trash-alt text-danger ml-3 btn-delete-email"  style="cursor:pointer" email="'+e.email_user+'" index="'+t+'"></i> ','<li class="list-group-item mt-1" id="email-'+t+'" style="padding:.375rem .75rem;">\n                            <div class="row">\n                                <div class="col-6">\n                                '+e.email_user+' \n                                </div>\n                                <div class="col-6 d-flex justify-content-end">\n                                '+status+"\n                                </div>\n                            </div>\n                        </li>"}),a="",s=d.phone.map(function(e,n){return status="",e.is_primary&&(status='<span class="badge badge-pill badge-primary d-flex justify-content-center align-items-center">Primary</span>'),e.is_verify&&!e.is_primary?(a+="<option value="+e.phone_user+">"+e.phone_user+"</option>",status+='<span class="badge badge-pill badge-success d-flex justify-content-center align-items-center">Verify success</span> \n                               <i class="far fa-trash-alt text-danger ml-3 btn-delete-phone"  style="cursor:pointer" phone="'+e.phone_user+'" index="'+n+'"></i>'):e.is_verify&&e.is_primary?status+='<span class="badge badge-pill badge-success d-flex justify-content-center align-items-center">Verify success</span> ':status+='<span class="badge badge-pill badge-danger d-flex justify-content-center align-items-center">Verify not success</span>\n                               <i class="fas fa-paper-plane text-primary  ml-3" style="cursor:pointer" phone="'+e.phone_user+'"></i> \n                               <i class="far fa-trash-alt text-danger ml-3 btn-delete-phone"  style="cursor:pointer" phone="'+e.phone_user+'" index="'+n+'"></i> ','<li class="list-group-item mt-1" id="phone-'+n+'"  style="padding:.375rem .75rem;">\n                            <div class="row">\n                                <div class="col-6">\n                                '+e.phone_user+' \n                                </div>\n                                <div class="col-6 d-flex justify-content-end">\n                                '+status+"\n                                </div>\n                            </div>\n                        </li>"}),$("#select-email").html(n),$("#select-phone").html(a),$("#list-email").html(t.join("")),$("#list-phone").html(s.join("")),$(".btn-delete-email").unbind().click(function(){var e=this,n=$(this).attr("email");swal({title:"Are you sure",text:"to delete this email address "+n+" ?",icon:"warning",buttons:!0,dangerMode:!0}).then(function(n){n&&p($(e))})}),$(".btn-delete-phone").unbind().click(function(){var e=this,n=$(this).attr("phone");swal({title:"Are you sure",text:"to delete this phone number "+n+" ?",icon:"warning",buttons:!0,dangerMode:!0}).then(function(n){n&&f($(e))})})},error:function(e){console.log(e)}})}};$(document).ready(function(){(new d).initialAndRun()})}});