!function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="http://localhost:8080/",a(a.s=0)}({"+pUu":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.config=a,this.createTableEx=function(){e.find("thead").empty(),e.find("tbody").empty(),e.find("thead").append("<tr></tr>");for(var t=0;t<a.col.amount;t++)e.find("thead tr").append('<th><input type="text" value="col'+t+'" class="form-control col-label"></th>');for(var n=0;n<a.row.amount;n++){for(var i="",r=0;r<a.col.amount;r++)i+=0===r?'<td><input type="text" value="row'+n+'" class="form-control row-label"></td>':'<td><input type="text" class="form-control value-datasource" placeholder="datasource">\n                                    <ul class="list-group data-list" style="display: none"></ul>\n                                </td>';e.find("tbody").append("<tr>"+i+"</tr>")}},this.addCol=function(){e.find("thead tr").append('<th><input type="text" value="col'+a.col.amount+'" class="form-control col-label"></th>'),e.find("tbody tr").each(function(){$(this).append('<td><input type="text" class="form-control value-datasource" placeholder="datasource">\n                                    <ul class="list-group data-list" style="display: none"></ul>\n                                </td>')}),a.col.amount+=1},this.removeCol=function(){a.col.amount>=2&&(e.find("thead tr th:last").remove(),e.find("tbody tr").each(function(){$(this).find("td:last").remove()}),a.col.amount-=1)},this.addRow=function(){for(var t="",n=0;n<a.col.amount;n++)t+=0===n?'<td><input type="text" value="row'+a.row.amount+'" class="form-control row-label"></td>':'<td><input type="text" class="form-control value-datasource" placeholder="datasource">\n                                <ul class="list-group data-list" style="display: none"></ul>\n                             </td>';a.row.amount+=1,e.find("tbody").append("<tr>"+t+"</tr>")},this.removeRow=function(){a.row.amount>=2&&(e.find("tbody tr:last").remove(),a.row.amount-=1)},this.getValue=function(){var t=[];e.find(".col-label").each(function(){t.push($(this).val())});var a=[];return e.find(".row-label").each(function(){var t=$(this).val(),e=[];$(this).parent().parent().find(".value-datasource").each(function(){e.push($(this).val())}),a.push({label:t,data:e})}),{col_labels:t,rows:a}}}},0:function(t,e,a){t.exports=a("AG5F")},"0v0P":function(t,e,a){"use strict";a.d(e,"e",function(){return n}),a.d(e,"d",function(){return i}),a.d(e,"f",function(){return r}),a.d(e,"a",function(){return o}),e.b=function(t){$(t.parent).find("input, textarea, select").each(function(){$(this).change(function(){var e=$(this).attr("name"),a=$(this).val(),n={};n[e]=""==a?null:a;var i=validate(n,t.validate)||{};s($(this),i[e])})})},e.c=function(t){var e=!0,a={};$(t.parent).find("input, textarea, select").each(function(){var t=$(this).attr("name"),e=$(this).val();a[t]=""==e?null:e});var n=validate(a,t.validate)||{};validate.isEmpty(n)?e=!1:(!function(t){$(t.parent).find("input, textarea, select").each(function(){var e=$(this).attr("name"),a=$(this).val(),n={};n[e]=""==a?null:a;var i=validate(n,t.validate)||{};s($(this),i[e])})}(t),e=!0);return console.log("isError = "+e),e},e.g=function(){$("input, textarea, select").removeClass("has-success"),$("input, textarea, select").removeClass("has-error"),$(".messages-error").html("")};var n=function(t){return t.map(function(t){return Object.assign({},t)})},i=function(t,e){return t=t.replace("#",""),"rgba("+parseInt(t.substring(0,2),16)+","+parseInt(t.substring(2,4),16)+","+parseInt(t.substring(4,6),16)+","+e/100+")"},r=function(){return"#"+(16777215*Math.random()<<0).toString(16)},l=null,o={set:function(t){l=t.html();var e=t.attr("data-loading-text");t.html(e),t.prop("disabled",!0)},reset:function(t){t.html(l),t.prop("disabled",!1)}};function s(t,e){e?(t.removeClass("has-success"),t.addClass("has-error"),t.parent().find(".messages-error").html(e[0])):(t.removeClass("has-error"),t.addClass("has-success"),t.parent().find(".messages-error").html(""))}},AG5F:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),r=a("0v0P"),l=a("t4zo"),o=a.n(l),s=a("+pUu"),d=a("SeUI"),u=a.n(d),c={DOMString:{class:{inputIsGroupDataMutiLine:".isGroupDataMutiLine",inputIsGroupDataMap:".isGroupDataMap",selectDatasource:".select-datasource:visible",valueDatasource:".value-datasource:visible",dataList:".data-list:visible",dataListValue:".data-list-value:visible",valueGroupData:".value-group-data:visible",labelChartLine:".label-y-chart-line:visible",colorChartLine:".rgb-chart-line:visible",radarLabel:".radar-labels",labelRadar:".label-radar",radarColor:".radar-color",formRadarValue:".form-radar-value:visible",removeRadarLabel:".remove-radar-labels:visible",valueOfMap:".value-of-map"},id:{inputTextCustom:"#text_custom",inputFontSize:"#font_size",start:"#start",end:"#end",g_limitMin:"#g_limitMin",g_limitMax:"#g_limitMax",unit:"#unit",rgb:"#rgb"}},btnAdd:$("#addW"),btnAddWidget:$("#add-new-widget"),btnSaveWidget:$("#saveW"),btnCancelWidget:$("#cancelW"),btnSettingWidget:$("#settingW"),divValueWidget:$(".value_widget"),selectWidgetType:$("select[name='widget_type']"),divDefaultValue:$("#default_value"),inputTitleName:$("input[name='title_name']"),inputTimeInterVal:$("input[name='time_interval']"),textBox:$("#text_box"),mutiLine:$("#MutiLine"),mutiLineValue:$("#Mutiline_value"),radar:$("#Radar"),radarLabel:$("#Radar_label"),radarValue:$("#Radar_value"),table:$("#Table"),gauges:$("#Gauges"),textLine:$("#text-line"),valueTextLine:$("#value-text-line"),textValue:$("#TextValue"),map:$("#map"),mapValue:$("#map_value"),exampleRadar:$("#example_radar"),exampleTable:$("#example_table")},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}();function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function n(i,r){try{var l=e[i](r),o=l.value}catch(t){return void a(t)}if(!l.done)return Promise.resolve(o).then(function(t){n("next",t)},function(t){n("throw",t)});t(o)}("next")})}}Chart.defaults.global.defaultFontFamily="'Poppins', 'Kanit', 'sans-serif'";var b="http://localhost:8000/api/",y=null,w=/([a-zA-Z0-9_]+)/g,x={BAR:"Bar",MUTILINE:"MutiLine",TEXTLINE:"TextLine",RADAR:"Radar",GAUGES:"Gauges",MAP:"Map",TEXTVALUE:"TextValue",TABLE:"Table",TEXTBOX:"TextBox"},I=null,T={loadingApi:!1,firstTime:!0},E=function t(e){var a=this;g(this,t),this.widget=e;var n=null;this.createModalEdit=function(t,e){null===n&&(n='<div class="modal fade" id="EditWidget">\n                                        <div class="modal-dialog modal-lg">\n                                            <div class="modal-content">\n                                                <div class="modal-header">\n                                                    <h5 class="modal-title">Edit Widget</h5>\n                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>\n                                                </div>\n\n                                                <div class="modal-body" id="form-edit-widget">     \n                                                </div>\n\n                                                <div class="modal-footer">\n                                                    <button type="button" id="btn-submit-edit-widget" class="btn btn-success btn-block">Save</button>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>',$("body").append(n)),$("#form-edit-widget").html(t),$("#EditWidget").modal("show")},this.submitEditClick=function(t){$("#btn-submit-edit-widget").unbind().click(function(){t()})},this.closeModalEdit=function(){$("#EditWidget").modal("hide")},this.findTitleWidget=function(){return $("#"+a.widget.itemId).find(".title-widget")}},M=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){var t=$("#edit_title").val(),e=$("#edit_time_interval").val();$(a.findTitleWidget()).html(t),a.widget.title_name=t,a.widget.timeInterval=e,a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div class="row" id="div-title">\n                            <div class="col-6">\n                                <lable>Title</label>\n                                <input type="text" class="form-control" id="edit_title"/>\n                            </div>\n                            <div class="col-6">\n                                <lable>Time interval</label>\n                                <input type="number" class="form-control" id="edit_time_interval"/>\n                            </div>\n                        </div>',n),n(),$("#edit_title").val(t.title_name),$("#edit_time_interval").val(t.timeInterval)},a}return h(e,E),e}(),D=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){var t=$("#edit_title").val(),e=$("#edit_unit").val(),n=$("#edit_time_interval").val();a.widget.itemId.replace("item-","unit_");$(a.findTitleWidget()).html(t),$("#"+a.widget.widgetId).empty(),a.widget.gaugeWidget={},a.widget.gaugeWidget=new JustGage({id:a.widget.widgetId,value:0,min:a.widget.limitMin,max:a.widget.limitMax,symbol:" "+e,relativeGaugeSize:!0,titlePosition:"below"}),$("#"+a.widget.widgetId).height($("#"+a.widgetId).height()-5),a.widget.title_name=t,a.widget.unit=e,a.widget.timeInterval=n,a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div id="edit-Gauges" class="edit-widget-form"> \n                            <div class="row">\n                                <div class="col-6">\n                                    <lable>Title</label>\n                                    <input type="text" class="form-control" id="edit_title"/>\n                                </div>\n                                <div class="col-6">\n                                    <lable>Time interval</label>\n                                    <input type="number" class="form-control" id="edit_time_interval"/>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col-6">\n                                    <lable>Unit</label>\n                                    <input type="text" class="form-control" id="edit_unit"/>\n                                </div>\n                            </div>\n                        </div>',n),n(),$("#edit_title").val(t.title_name),$("#edit_time_interval").val(t.timeInterval),$("#edit_unit").val(t.unit)},a}return h(e,E),e}(),S=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){var t=$("#edit_title").val(),e=$("#edit_time_interval").val();$(a.findTitleWidget()).html(t),a.widget.title_name=t,a.widget.timeInterval=e,a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div class="row" id="div-title">\n                            <div class="col-6">\n                                <lable>Title</label>\n                                <input type="text" class="form-control" id="edit_title"/>\n                            </div>\n                            <div class="col-6">\n                                <lable>Time interval</label>\n                                <input type="number" class="form-control" id="edit_time_interval"/>\n                            </div>\n                        </div>',n),n(),$("#edit_title").val(t.title_name),$("#edit_time_interval").val(t.timeInterval)},a}return h(e,E),e}(),k=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){var t=$("#edit-title").val(),e=$("#edit-unit").val();$(a.findTitleWidget()).html(t),$("#"+a.widget.widgetId).next("span").html(e),a.widget.title_name=t,a.widget.unit=e,a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div class="row" id="div-title">\n                            <div class="col-6">\n                                <lable>Title</label>\n                                <input type="text" class="form-control" id="edit-title"/>\n                            </div>\n                            <div class="col-6">\n                                <lable>Unit</label>\n                                <input type="text" class="form-control" id="edit-unit"/>\n                            </div>\n                        </div>',n),n(),$("#edit-title").val(t.title_name),$("#edit-unit").val(t.unit)},a}return h(e,E),e}(),O=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){var t=$("#edit_title").val(),e=$("#edit_unit").val(),n=a.widget.itemId.replace("item-","unit_");$(a.findTitleWidget()).html(t),$("#"+n).html(e),a.widget.title_name=t,a.widget.unit=e,a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div class="row" id="div-title">\n                            <div class="col-6">\n                                <lable>Title</label>\n                                <input type="text" class="form-control" id="edit_title"/>\n                            </div>\n                            <div class="col-6">\n                                <lable>Unit</label>\n                                <input type="text" class="form-control" id="edit_unit"/>\n                            </div>\n                        </div>',n),n(),$("#edit_title").val(t.title_name),$("#edit_unit").val(t.unit)},a}return h(e,E),e}(),A=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){var t=$("#edit_title").val(),e=$("#edit_time_interval").val();$(a.findTitleWidget()).html(t),$("#"+unitId).html(e),a.widget.title_name=t,a.widget.timeInterval=timeInterval,a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div id = "edit-text-box" class="value_widget">\n                            <div class="row">\n                                <div class="col-6">\n                                    <label>Title</label>\n                                    <input type="text" id="edit_title" class="form-control" />\n                                </div>\n                                <div class="col-6">\n                                    <label>Time interval</label>\n                                    <input type="number" id="edit_time_interval" class="form-control" />\n                                </div>\n                            </div>\n                        </div> ',n),n(),$("#edit_title").val(t.title_name),$("#edit_time_interval").val(t.timeInterval)},a}return h(e,E),e}(),C=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){$("#"+t.widgetId).html($("#edit-text-custom").val()),$("#"+t.widgetId).css({"font-size":$("#edit-font-size").val()+"px"}),t.textbox=$("#edit-text-custom").val(),t.fontsize=$("#edit-font-size").val(),a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div id = "edit-text-box" class="value_widget">\n                            <div class="row">\n                                <div class="col-6">\n                                    <label>Text</label>\n                                    <input type="text" id="edit-text-custom" class="form-control" />\n                                </div>\n                                <div class="col-6">\n                                    <label>Font Size (px)</label>\n                                    <input type="number" id="edit-font-size" class="form-control" />\n                                </div>\n                            </div>\n                        </div> ',n),n(),$("#edit-text-custom").val(t.textbox),$("#edit-font-size").val(t.fontsize)},a}return h(e,E),e}(),W=function(){function t(e){var a=this;g(this,t),this.itemId=e.itemId,this.widgetId=e.widgetId,this.datasource=e.datasource,this.type=e.type,this.lastUpdateId=e.lastUpdateId,this.title_name=e.title_name,this.lastUpdate=e.lastUpdate,this.timeInterval=e.timeInterval,this.wi=e.wi,this.download=e.download,this.updateLastUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?(a.lastUpdate=new Date(t),$("#"+a.lastUpdateId).html(a.lastUpdate.toDateString()+" "+a.lastUpdate.toLocaleTimeString())):(a.lastUpdate=new Date,$("#"+a.lastUpdateId).html(a.lastUpdate.toDateString()+" "+a.lastUpdate.toLocaleTimeString()))};var n={cellHeight:80,verticalMargin:10,float:!1},i=[{x:0,y:0,width:6,height:7}],r=null,l=function(){$(".btn-delete-wi").unbind().click(function(){d($(this))}),$(".btn-edit-wi").unbind().click(function(){var t,e,a,n;t=$(this),e=$(t).attr("item"),a=Z.getWidgetById(e),n=null,a.type===x.MUTILINE?n=new M(a):a.type===x.TEXTLINE?n=new O(a):a.type===x.GAUGES?n=new D(a):a.type===x.MAP?n=new S(a):a.type===x.TEXTVALUE?n=new k(a):a.type===x.TEXTBOX?n=new C(a):a.type===x.TABLE&&(n=new A(a)),n.initCreate()}),$(".btn-full-screen").unbind().click(function(){s($(this))}),$(".btn-download").unbind().click(function(){var t=Z.getWidgetById($(this).attr("item")),e=document.getElementById(t.widgetId);html2canvas(e).then(function(t){o()(t.toDataURL(),"file-name.png")})})},s=function(t){var e=Z.getWidgetById(t.attr("item"));$("#modal-full-screen").modal("show"),$("#content-widget").html(e.selectWiContentFull()),e.createFullWidget()},d=function(t){swal({title:"Are you sure?",text:"Delete this widget",icon:"warning",buttons:!0,dangerMode:!0}).then(function(e){e&&u($(t))})},u=function(t){var e=$(t).attr("item");r.removeWidget($("#"+e).closest(".grid-stack-item"));var a=F.findIndex(function(t){return t.itemId==e});F.splice(a,1)};this.selectWiContent=function(){switch(a.type){case x.MUTILINE:return'<canvas id="'+a.widgetId+'"></canvas>';case x.TEXTLINE:return' <h2 class="text-left"><span id="'+a.itemId.replace("item-","value-")+'">0</span> <span  id="'+a.itemId.replace("item-","unit-")+'">'+a.unit+'</span></h2>\n                             <canvas id="'+a.widgetId+'"></canvas>\n                            ';case x.RADAR:return'<canvas id="'+a.widgetId+'"></canvas>';case x.GAUGES:return a.itemId.replace("item-","gauges-text-"),a.itemId.replace("item-","unit_"),'\n                            <div id="'+a.widgetId+'"></div>\n                            ';case x.MAP:return'<div id="'+a.widgetId+'"></div>';case x.TABLE:return'<div>\n                            <table class="table table-bordered" id="'+a.widgetId+'" >\n                                <thead></thead><tbody></tbody>\n                            </table>\n                            </div>';case x.TEXTVALUE:return'\n                            <h1 style="color:'+a.rgb+'"><span id="'+a.widgetId+'">0</span> <span>'+a.unit+"</span><h1>\n                            ";case x.TEXTBOX:return'<span id="'+a.widgetId+'"></span>'}},this.selectWiContentFull=function(){switch(a.type){case x.MUTILINE:return'<canvas id="'+a.fullScreenId+'"></canvas>';case x.TEXTLINE:return' <h2 class="text-left"><span id="'+a.itemId.replace("item-","value_full")+'">0</span> '+a.unit+'</h2>\n                             <canvas id="'+a.fullScreenId+'"></canvas>\n                            ';case x.GAUGES:return'\n                            <h2><span id="'+a.itemId.replace("item-","gauges-text-full")+'">0</span> <span>'+a.unit+'</span></h2>\n                            <canvas id="'+a.fullScreenId+'"></canvas>\n                            ';case x.MAP:return'\n                            <div id="'+a.fullScreenId+'"></div>\n                            '}},this.createWidget=function(){var t,e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=Math.floor(1e5+9e5*Math.random()),e=a.type.toLowerCase(),a.itemId="item-"+t,a.widgetId=e+"-"+t,a.lastUpdateId=e+"-lastupdate-"+t;var s=i.pop()||{x:3,y:4,width:6,height:7};$(".grid-stack").gridstack(n),r=$(".grid-stack").data("gridstack");var d="";"TextBox"!==a.type?(d=$("#layout-widget").html(),"TextValue"===a.type&&(s.width=4,s.height=4,d=$("#layout-widget-text-value").html()),d=(d=(d=(d=(d=d.replace(/div_id/g,a.itemId)).replace(/widget_id/g,a.widgetId)).replace("((wi))",a.selectWiContent())).replace("((title_name))",a.title_name)).replace("{last_update}",a.lastUpdateId)):(s.width=6,s.height=1,d=(d=(d=$("#layout-widget-text").html()).replace(/div_id/g,a.itemId)).replace("((wi))",a.selectWiContent())),s.id=a.itemId;var u=null;u=o?r.addWidget($(d),o.x,o.y,o.width,o.height,!0,null,null,null,null,s.id):r.addWidget($(d),s.x,s.y,s.width,s.height,!0,null,null,null,null,s.id),a.download||u.find(".full-screen").find(".btn-download").remove(),l()}}return f(t,null,[{key:"formateDataSave",value:function(t){var e={type:t.type,datasource:t.datasource,download:!!t.download&&t.download,timeInterval:t.timeInterval};return t.type===x.MUTILINE?(e.isGroupData=t.isGroupData,e.title_name=t.title_name,e.datasets=t.datasets):t.type===x.TEXTLINE?(e.title_name=t.title_name,e.unit=t.unit,e.rgb=t.rgb):t.type===x.RADAR?(e.datasets=t.datasets,e.title_name=t.title_name,e.labels=t.labels,e.label=t.label,e.color=t.color):t.type===x.GAUGES?(e.title_name=t.title_name,e.opts=t.opts,e.limitMin=t.limitMin,e.limitMax=t.limitMax,e.unit=t.unit):t.type===x.MAP?(e.isGroupData=t.isGroupData,e.title_name=t.title_name):t.type===x.TABLE?(e.title_name=t.title_name,e.table=t.table):t.type===x.TEXTVALUE?(e.title_name=t.title_name,e.unit=t.unit,e.rgb=t.rgb):t.type===x.TEXTBOX&&(e.textbox=t.textbox,e.fontsize=t.fontsize),e}}]),t}(),j=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));a.isGroupData=t.isGroupData,a.fullScreenId=t.fullScreenId,a.chart=null,a.datasets=t.datasets;var n={maintainAspectRatio:!1,scales:{yAxes:[{gridLines:{display:!1},ticks:{beginAtZero:!0,fontFamily:"'Poppins', 'Kanit', 'sans-serif'",fontStyle:"bold"}}],xAxes:[{gridLines:{display:!1},ticks:{fontFamily:"'Poppins', 'Kanit', 'sans-serif'",fontStyle:"bold"}}]},plugins:{streaming:{frameRate:30}},legend:{labels:{fontFamily:"'Poppins', 'Kanit', 'sans-serif'",fontColor:"black"}},tooltips:{mode:"nearest",intersect:!1},hover:{mode:"nearest",intersect:!1}};return a.createMutiLine=function(){var t=document.getElementById(a.widgetId),e=new Chart(t,{type:"line",data:{datasets:Object(r.e)(a.datasets)},options:n});a.chart=e},a.createFullWidget=function(){var t=document.getElementById(a.fullScreenId);new Chart(t,{type:"line",data:{datasets:Object(r.e)(a.datasets)},options:n})},a.updateData=function(){var t=a.chart,e=new Date;t.data.labels.push(e.toLocaleTimeString());var n=0;t.data.datasets.forEach(function(t){t.data.length>10&&t.data.splice(0,1),a.isGroupData?t.data.push(u.a.get(y.getDatasources(),a.datasource.replace("[]",n))):t.data.push(u.a.get(y.getDatasources(),a.datasource[n])),n++}),t.data.labels.length>10&&t.data.labels.splice(0,1),t.update(),a.updateLastUpdate()},a}return h(e,W),e}(),U=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));a.fullScreenId=t.fullScreenId,a.unit=t.unit,a.rgb=t.rgb;var n={maintainAspectRatio:!1,responsive:!0,scales:{yAxes:[{display:!1}],xAxes:[{display:!1}]},legend:{display:!1},elements:{point:{radius:0},line:{tension:0}},layout:{padding:{left:0,right:0,top:0,bottom:30}},stepsize:100};return a.createTextLine=function(){var t=document.getElementById(a.widgetId),e=new Chart(t,{type:"line",data:{labels:[],datasets:[{label:"",data:[],backgroundColor:["rgba(255, 255, 255, 0)"],borderColor:[a.rgb],borderWidth:2}]},options:n});return a.chart=e,a.updateData(),e},a.createFullWidget=function(){var t=document.getElementById(a.fullScreenId);new Chart(t,{type:"line",data:{labels:[],datasets:[{label:"",data:[],backgroundColor:["rgba(255, 255, 255, 0)"],borderColor:[a.rgb],borderWidth:2}]},options:n})},a.updateData=function(){var t=a.widgetId;t=t.replace(a.type.toLowerCase(),"value");var e=a.chart,n=new Date;e.data.labels.push(n.toLocaleTimeString()),e.data.datasets.forEach(function(e){e.data.length>10&&e.data.splice(0,1);var n=u.a.get(y.getDatasources(),a.datasource);e.data.push(n),$("#"+t).html(n)}),e.data.labels.length>10&&e.data.labels.splice(0,1),e.update(),a.updateLastUpdate()},a.liveData=function(){var t=a.widgetId;t=t.replace(a.type,"value_");var e=a.chart,n=new Date;e.data.labels.push(n.toLocaleTimeString()),e.data.datasets.forEach(function(t){t.data.length>10&&t.data.splice(0,1);var e=t.data[t.data.length-1];t.data.push(e)}),e.data.labels.length>10&&e.data.labels.splice(0,1),e.update()},a}return h(e,j),e}(),R=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));a.datasets=t.datasets,a.labels=t.labels,a.label=t.label,a.color=t.color,a.radar=null;var n={type:"radar",data:{labels:[],datasets:[]},options:{maintainAspectRatio:!1,legend:{position:"top"},title:{display:!0},scale:{ticks:{beginAtZero:!0}}}};return a.createRadar=function(){var t=document.getElementById(a.widgetId),e=new Chart(t,n),i=0;e.data.labels=a.labels,e.data.datasets=Object(r.e)(a.datasets),e.data.datasets.forEach(function(t){t.label=a.label[i],t.backgroundColor=Object(r.d)(a.color[i],20),t.borderColor=a.color[i],t.pointBackgroundColor=a.color[i],t.data=[],i++}),e.update(),a.radar=e},a.updateData=function(){var t=0;a.radar.data.datasets.forEach(function(e){e.data=[],a.radar.data.labels.map(function(n){var i=u.a.get(y.getDatasources(),a.datasource[t]);e.data.push(i),t++})}),a.radar.update(),a.updateLastUpdate()},a}return h(e,W),e}(),G=function t(){var e=this;g(this,t);var a={type:"radar",data:{labels:[],datasets:[]},options:{legend:{position:"top"},title:{display:!0},scale:{ticks:{beginAtZero:!0}}}};this.createRadarExample=function(){if(null===I){var t=document.getElementById("example_radar"),n=new Chart(t,a);I=n,e.updateRadarExample()}};this.updateRadarExample=function(){var t=[],e=[],a=[],n=[];Chart.helpers.color;$(".radar-labels:visible").each(function(){t.push($(this).val()),a.push(getRandomInt(0,50))}),I.data.labels=[],I.data.datasets=[],$(".label-radar:visible").each(function(){e.push($(this).val()),I.data.datasets.push({})}),$(".radar-color").each(function(){n.push($(this).val())});var i=0;I.data.labels=t,I.data.datasets.forEach(function(t){t.label=e[i],t.backgroundColor=Object(r.d)(n[i],20),t.borderColor=n[i],t.pointBackgroundColor=n[i],t.data=a,a=a.map(function(t){return t+getRandomInt(0,10)}),i++}),I.update()}},V=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.fullScreenId=t.fullScreenId,a.textId=t.textId,a.gaugeWidget=null,a.opts=t.opts,a.limitMax=t.limitMax?t.limitMax:100,a.limitMin=t.limitMin?t.limitMin:0,a.unit=t.unit,a.createGages=function(){a.gaugeWidget=new JustGage({id:a.widgetId,value:0,min:a.limitMin,max:a.limitMax,symbol:" "+a.unit,relativeGaugeSize:!0,titlePosition:"below"}),$("#"+a.widgetId).height($("#"+a.widgetId).height()-5),$("#"+a.widgetId).addClass("container")},a.updateData=function(){var t=u.a.get(y.getDatasources(),a.datasource[0]);a.gaugeWidget.refresh(t||0),a.updateLastUpdate()},a}return h(e,W),e}(),B=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.isGroupData=t.isGroupData,a.datasource=t.datasource,a.start=t.start,a.end=t.end,a.fullScreenId=t.fullScreenId,a.myMap=null,a.createMap=function(){var t=void 0,e=a.widgetId,n=$("#"+a.itemId).height()-100;$("#"+e).css("height",n),$("#"+e).css("width","auto"),t=L.map(e,{dragging:!0,zoomControl:!0,scrollWheelZoom:!1,zoomAnimation:!1}),$.getJSON("https://raw.githubusercontent.com/apisit/thailand.json/master/thailand.json").then(function(e){var a=new L.TileLayer.BoundaryCanvas("https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{boundary:e,minZoom:5,maxZoom:9,attribution:"&copy; Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ"});t.addLayer(a);var n=L.geoJSON(e);t.fitBounds(n.getBounds())}).then(function(){}),$(".grid-stack").on("change",function(e,a){null!=t&&t.invalidateSize(!0)}),a.myMap=t},a.updateData=function(){a.myMap.invalidateSize(!0);var t=[];if(a.isGroupData){var e=u.a.get(y.getDatasources(),a.datasource.groupData);for(var n in e){var i=u.a.get(y.getDatasources(),a.datasource.latitude.replace("[]",n)),r=u.a.get(y.getDatasources(),a.datasource.longitude.replace("[]",n)),l=u.a.get(y.getDatasources(),a.datasource.label.replace("[]",n)),o=u.a.get(y.getDatasources(),a.datasource.value.replace("[]",n));L.marker([i,r]).addTo(a.myMap).bindPopup(l+" : "+o),t.push([i,r,o/100])}L.heatLayer(t,{radius:75}).addTo(a.myMap)}else a.datasource.map(function(t){console.log(t.value);var e=u.a.get(y.getDatasources(),t.latitude),n=u.a.get(y.getDatasources(),t.longitude),i=t.label,r=u.a.get(y.getDatasources(),t.value);L.marker([e,n]).addTo(a.myMap).bindPopup(i+" : "+r)});a.updateLastUpdate()},a.createFullWidget=function(){var t=void 0,e=a.fullScreenId;$("#"+e).css("height","450px"),$("#"+e).css("width","auto"),t=L.map(e,{dragging:!0,zoomControl:!0,scrollWheelZoom:!1,zoomAnimation:!1}),$.getJSON("https://raw.githubusercontent.com/apisit/thailand.json/master/thailand.json").then(function(e){var a=new L.TileLayer.BoundaryCanvas("https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{boundary:e,minZoom:5,maxZoom:9,attribution:"&copy; Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ"});t.addLayer(a);var n=L.geoJSON(e);t.fitBounds(n.getBounds())}).then(function(){setTimeout(function(){t.invalidateSize(!0),$.ajax({dataType:"json",url:"/js/company/test-api.json",async:!1,success:function(e){var a=[],n=e.WeatherForecasts;for(var i in n)L.marker([n[i].location.lat,n[i].location.lon]).addTo(t).bindPopup(n[i].location.province+" อ ุณหภูมิที่ระดับพื้นผิว : "+n[i].forecasts[1].data.tc+" °C"),a.push([n[i].location.lat,n[i].location.lon,n[i].forecasts[1].data.tc/100]);L.heatLayer(a,{radius:75}).addTo(t)}})},1e3)})},a}return h(e,W),e}(),P=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.table=t.table,a.createTable=function(){a.el=$("#"+a.widgetId),a.el.find("thead").append("<tr></tr>");for(var t=0;t<a.table.col_labels.length;t++)a.el.find("thead tr").append("<th>"+a.table.col_labels[t]+"</th>");for(var e=0;e<a.table.rows.length;e++){for(var n="",i=0;i<a.table.col_labels.length;i++)n+=0===i?"<td>"+a.table.rows[e].label+"</td>":"<td></td>";a.el.find("tbody").append("<tr>"+n+"</tr>")}$("#"+a.widgetId).parent().addClass("table-responsive")},a.updateData=function(){try{var t=0,e=a.table.rows;a.el.find("tbody tr").each(function(){var a=0;$(this).find("td").not(":first").each(function(){var n=u.a.get(y.getDatasources(),e[t].data[a]);$(this).html(n),a++}),t++}),a.updateLastUpdate()}catch(t){}},a}return h(e,W),e}(),z=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.textValue=t.textValue,a.unit=t.unit,a.rgb=t.rgb,a.createTextValue=function(){},a.updateData=function(){var t=u.a.get(y.getDatasources(),a.datasource[0]);$("#"+a.widgetId).html(t),a.updateLastUpdate()},a}return h(e,W),e}(),N=function(t){function e(t){g(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.textbox=t.textbox,a.fontsize=t.fontsize,a.createTextBox=function(){$("#"+a.widgetId).html(a.textbox),$("#"+a.widgetId).css({"font-size":a.fontsize+"px"})},a}return h(e,W),e}(),F=[],X=function t(){var e=this;g(this,t);var a,n,r,l,o=null,s=[],d=[],f=[],v=0,h=(a=m(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.ajax({url:b+"company/webservices",success:function(t){(o=t.data).map(function(t){$("#webservice_id").append('<option value="'+t.webservice_id+'">'+t.service_name+"</option>")})},error:function(t){console.log(t)}});case 2:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)}),y=(n=m(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.ajax({url:b+"company/staticDatasource",method:"GET",data:{static_id:$("#static_id").html()},success:function(t){o=t.data},error:function(t){console.log(t)}});case 2:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)}),_=(r=m(i.a.mark(function t(){var e,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return $("#list-datasource").empty(),$(".select-datasource").empty(),e="<h5>Datasource</h5>",a="<option value=''>--Select datasource--</option>",t.next=6,o.map(function(){var t=m(i.a.mark(function t(n,r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e+='<div class="row">\n                            <div class="col-2 edit-datasource" title="Edit" index='+r+' style="cursor:pointer"> \n                                '+n.name+'\n                            </div>\n                            <div class="col-2 unActiveApi" id="datasource-isActive-'+r+'">\n                                <b>Not active</b>\n                            </div>\n                            <div class="col-3" id="datasource-'+r+'">\n\n                            </div>\n                        </div>',a+="<option value='"+n.id+"'>"+n.name+"</option>",v++,t.next=5,I(r);case 5:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}());case 6:setInterval(function(){x()},1e3),$(".select-datasource").html(a),$("#list-datasource").html(e);case 9:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)}),x=function(){var t;o.map((t=m(i.a.mark(function t(e,a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Z.diffTime(e.lastUpdate,e.timeInterval)>=e.timeInterval)){t.next=4;break}return t.next=4,I(a);case 4:return t.abrupt("return");case 5:case"end":return t.stop()}},t,this)})),function(e,a){return t.apply(this,arguments)}))},I=(l=m(i.a.mark(function t(e){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o[e].URL,a=o[e].name,t.next=4,$.ajax({url:"/js/company/test-api2.json",success:function(){var t=m(i.a.mark(function t(n){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=new Date,o[e].lastUpdate=r,$("#datasource-"+e).html(r.toDateString()+" "+r.toLocaleTimeString()),$("#datasource-isActive-"+e).html("<b>Active</b>"),$("#datasource-isActive-"+e).removeClass("unActiveApi"),$("#datasource-isActive-"+e).addClass("activeApi"),s[a]=n,v===o.length&&(T.loadingApi=!0);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),error:function(t){console.log(t)}});case 4:case"end":return t.stop()}},t,this)})),function(t){return l.apply(this,arguments)}),E=function(t){return o.find(function(e){return e.id==t})},M=function(t){if("object"==(void 0===t?"undefined":p(t)))return Object.keys(t)},L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;$(e).parent().find(".data-list").empty();var a=t;$(e).val(a),D(a,e)},D=function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{d=e.match(w);var n=M(u.a.get(s,e));a.parent().find(".data-list").empty();var i="";d.length>1&&(i+='<li class="back-value-data list-group-item" back="'+d.slice(0,d.length-1).join(".")+'" style="cursor:pointer">Back</li>'),n.map(function(t){var a=u.a.get(s,e+"."+t);i+='<li class="value-data list-group-item" style="cursor:pointer" value="'+t+'">'+t+" : "+a+"</li>"});var r=a.parent().find(".data-list").append(i);r.parent().find(".data-list").hover(function(){$(this).closest(".value-datasource").focus()},function(){$(this).prev().blur(),$(this).hide()}),r.find(".value-data").unbind().click(function(){var e=$(this).parent().parent().find(".value-datasource,.value-group-data"),a=$(e).val();a+="."+$(this).attr("value"),$(e).val(a),t($(e).val(),e),$(e).focus(),$(".value-group-data").change()}),r.find(".back-value-data").unbind().click(function(){var e=$(this).attr("back");$(this).parent().parent().find(".value-datasource,.value-group-data").val(e),t(e,$(this).parent().parent().find(".value-datasource,.value-group-data"))}),$(".data-list").scrollTop(0)}catch(t){}},S={createGroupData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.find(".data-list").empty(),e.find(".value-group-data").val(t),S.updateDataGroup(t,e)},updateDataGroup:function(t,e){try{var a=M(u.a.get(s,t));e.find(".data-list").empty();var n="";a.map(function(t){n+='<li class="value-data list-group-item" style="cursor:pointer" value="'+t+'">'+t+"</li>"});var i=e.find(".data-list-group").append(n);i.find(".value-data").unbind().click(function(){var t=e.parent().parent().find(".value-group-data"),a=$(t).val();a+="."+$(this).attr("value"),$(t).val(a),S.updateDataGroup($(t).val(),e),$(t).focus(),$(".value-group-data").change()}),i.parent().find(".data-list").hover(function(){$(this).closest(".value-datasource").focus()},function(){$(this).prev().blur(),$(this).hide()}),$(".data-list").scrollTop(0)}catch(t){console.log(t)}$("#Mutiline_group_data .group-data .back-value-data,#map_group_data .group-data .back-value-data").unbind().click(function(){for(var t=$(this).attr("back").split(","),e="datasource",a=1;a<t.length;a++)e+="['"+t[a]+"']";$(this).parent().parent().find(".value-datasource,.value-group-data").val(e),D(e,$(this).parent().parent().find(".value-datasource,.value-group-data"))})},createDataValue:function(t,e){try{var a=M(u.a.get(s,t));e.find(".data-list-value").empty();var n="";a.map(function(t){var e=u.a.get(s,$(".value-group-data").val()+".0."+t);n+='<li class="value-data list-group-item" style="cursor:pointer" value="'+t+'">'+t+" : "+e+"</li>"});var i=e.find(".data-list-value").append(n);i.find(".value-data").unbind().click(function(){var t=$(this).parent().parent().find(".value-datasource"),e=$(t).val();e+="."+$(this).attr("value"),$(t).val(e),$(t).focus(),S.updateDataValue(e,t)}),i.parent().find(".data-list").hover(function(){$(this).closest(".value-datasource").focus()},function(){$(this).prev().blur(),$(this).hide()}),$(".data-list-value").scrollTop(0)}catch(t){console.log(t)}},updateDataValue:function(t,e){try{var a=M(u.a.get(s,$(".value-group-data").val()+".0"+e.val()));console.log($(".value-group-data").val()+".0"+e.val());var n=[];""!=t&&(n=t.match(w)),e.parent().find(".data-list-value").empty();var i="";1==n.length?i+='<li class="back-value-data list-group-item" back="" style="cursor:pointer">Back</li>':i+='<li class="back-value-data list-group-item" back="'+n.slice(0,n.length-1).join(".")+'" style="cursor:pointer">Back</li>',a.map(function(t){var a=u.a.get(s,""+s+$(".value-group-data").val()+".0"+e.val()+"."+t);i+='<li class="value-data list-group-item" style="cursor:pointer" value="'+t+'">'+t+" : "+a+" </li>"}),$(".data-list-value").scrollTop(0);var r=e.parent().find(".data-list-value").append(i);r.find(".value-data").unbind().click(function(){var t=$(this).parent().parent().find(".value-datasource"),e=$(t).val();e+="."+$(this).attr("value"),$(t).val(e),$(t).focus(),S.updateDataValue(e,t)}),r.find(".back-value-data").unbind().click(function(){var t=$(this).parent().parent().find(".value-datasource"),e=$(this).attr("back");""==e?t.val(""):t.val("."+e),S.updateDataValue(e,t)}),r.parent().find(".data-list").hover(function(){$(this).closest(".value-datasource").focus()},function(){$(this).prev().blur(),$(this).hide()})}catch(t){console.log(t)}}};this.setDataAccess=function(t){f=t},this.getDatasourceValue=function(t,a){return"object"==p(a[f[t]])?e.getDatasourceValue(t+1,a[f[t]]):a[f[t]]},this.fatoryGetDatasourceValue=function(t,a){try{return f=t,e.getDatasourceValue(2,s[a])}catch(t){}},this.getDatasources=function(){return s};var k,O=(k=m(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:$("#btn-add-datasource").unbind().click(function(){$("#addDatasource").modal("show")}),$("#btn-add-new-datasource").unbind().click(function(){$.ajax({url:b+"company/static/datasource",method:"POST",data:{static_id:$("#static_id").html(),name:$("#name_datasource").val(),webservice_id:$("#webservice_id").val(),timeInterval:$("#add-data-time-interval").val()},success:function(t){y(),$("#addDatasource").modal("hide")},error:function(t){console.log(t)}})}),$("#Gauges,#TextValue,#text-line").on("change",".select-datasource",function(){if($(this).parent().next().find(".value-datasource").val(""),$(this).parent().next().find(".data-list").hide(),""!=$(this).val()){var t=E($(this).val());$(this).parent().next().find(".value-datasource").focus(),L(t.name,$(this).parent().next().find(".value-datasource"))}else $(this).parent().next().find(".data-list").empty()}),$("#Mutiline_value").on("change",".select-datasource",function(){if($("#Mutiline_value").find(".value-datasource").val(""),$("#Mutiline_value").find(".data-list").hide(),""!=$(this).val()){var t=E($(this).val());L(t.name,$("#Mutiline_value").find(".value-datasource"))}else $("#Mutiline_value").find(".data-list").empty()}),$("#map_value").on("change",".select-datasource",function(){if($("#map_value").find(".value-datasource").val(""),$("#map_value").find(".data-list").hide(),""!=$(this).val()){var t=E($(this).val());L(t.name,$("#map_value").find(".value-datasource"))}else $(this).parent().parent().next().find(".data-list").empty()}),$("#Mutiline_group_data,#map_group_data").on("change",".select-datasource",function(){if($("#Mutiline_group_data,#map_group_data").find(".value-datasource").val(""),$("#Mutiline_group_data,#map_group_data").find(".data-list").hide(),""!=$(this).val()){var t=E($(this).val());S.createGroupData(t.name,$("#Mutiline_group_data,#map_group_data"))}else $(".data-list").empty(),$(".value-group-data").val("")}),$("#Mutiline_group_data,#map_group_data").on("change",".value-group-data",function(){var t=$("#Mutiline_group_data,#map_group_data"),e=u.a.get(s,$(this).val());validate.isArray(e)?(t.find("input[name='end']").val(e.length-1),S.createDataValue($(this).val()+".0",t)):$(".data-list-value,data-list-label").empty()}),$("#Mutiline_group_data").on("change",".data-list-value",function(){}),$("#Table").on("change",".select-datasource",function(){if($("#Table").find(".value-datasource").val(""),$("#Table").find(".data-list").hide(),$("#Table").find(".data-list").empty(),""!=$(this).val()){var t=E($(this).val());L(t.name,$("#Table").find(".value-datasource"))}}),$("#Radar").on("change",".select-datasource",function(){var t=$(this).parent().parent().next().next();if($(t).find(".value-datasource").val(""),$(t).find(".data-list").hide(),$(t).find(".data-list").empty(),""!=$(this).val()){var e=E($(this).val());L(e.name,$(t).find(".value-datasource"))}}),$("#addWidget .modal-body").on("focus",".value-datasource,.value-group-data",function(){$("#addWidget").find(".data-list.active-data").hide().removeClass("active-data"),$(this).next().addClass("active-data"),$(this).next().show()}),$("#Mutiline_value,#Gauges,#TextValue,#Radar").on("keyup",".value-datasource",function(){D($(this).val(),$(this))}),$("#btn-add-value-Mutiline").unbind().click(function(){var t=$("#line_value_layout").first().html(),e=c.mutiLineValue.append(t),a=c.mutiLineValue.find(c.DOMString.class.selectDatasource).val();if(""!=a){var n=E(a);e.find(c.DOMString.class.dataList).hide(),e.find(c.DOMString.class.dataList).removeClass("active-data"),L(n.name,e.find(c.DOMString.class.valueDatasource).last())}else $(this).parent().parent().next().find(c.DOMString.class.dataList).empty()}),$(".btn-add-point-map").unbind().click(function(){var t=$("#map_value_layout").first().html(),e=c.mapValue.append(t),a=c.mapValue.find(c.DOMString.class.selectDatasource).val();if(""!=a){var n=E(a);e.find(c.DOMString.class.dataList).hide(),e.find(c.DOMString.class.dataList).removeClass("active-data"),L(n.name,e.find(".value-of-map:last "+c.DOMString.class.valueDatasource))}else $(this).parent().parent().next().find(c.DOMString.class.dataList).empty()});case 14:case"end":return t.stop()}},t,this)})),function(){return k.apply(this,arguments)});this.initCreate=m(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:return t.next=4,h();case 4:return t.next=6,y();case 6:return t.next=8,_();case 8:case"end":return t.stop()}},t,this)}))},Z=function(){function t(){g(this,t);var e,a,n={cellHeight:80,verticalMargin:10,float:!1},l=null,o=null,d=null,p=null,f=!1,v=!1,h=function(){return c.selectWidgetType.val()},w=function(){return c.inputTitleName.val()},I=function(){return c.inputTimeInterVal.val()},E=function(){return(new Date).toUTCString()},M=function(){if(0==$(".form-radar-value:visible").length){var t=$("#layout-radar-value").html(),e=$("#layout-add-value-radar").html();$("#Radar_value").append(t),$(".radar-labels:visible").each(function(){var t=e.replace("((value-radar))",$(this).val());$(".add-value-radar:visible").append(t)})}else{var a=$("#Radar_value .form-radar-value").html();$("#Radar_value").append('<div class="form-radar-value">'+a+"</div>")}},L=function(){var t,e,a,n,i,l,o,s,d,g=h(),m=null,b=null;g===x.MUTILINE?(b=function(t){var e=[],a=null;if(f){for(var n=$(c.DOMString.class.valueGroupData).val(),i=$(c.DOMString.id.start).val(),l=$(c.DOMString.id.end).val(),o=$("input[name='value-data']:visible").val(),s=$("input[name='label-data']:visible").val(),d=i;d<=l;d++){var p,v=Object(r.f)();p={label:u.a.get(y.getDatasources(),n+"."+d+s),backgroundColor:"rgba(255,255,255,0.0)",borderColor:v,borderWidth:2},e.push(p)}a={isGroupData:!0,datasource:n+".[]"+o,fullScreenId:"myChartFull_"+t,download:!0,type:h(),title_name:w(),lastUpdate:E(),timeInterval:I(),datasets:[].concat(e)}}else{var g=c.mutiLine.find(c.DOMString.class.labelChartLine).length,m=[];c.mutiLineValue.find(c.DOMString.class.valueDatasource).each(function(){m.push($(this).val())});for(var b=0;b<g;b++){var _,x=c.mutiLineValue.find(c.DOMString.class.labelChartLine),T=c.mutiLineValue.find(c.DOMString.class.colorChartLine);_={label:$(x[b]).val(),backgroundColor:"rgba(255,255,255,0.0)",borderColor:$(T[b]).val(),borderWidth:2},e.push(_)}console.log(e),a={isGroupData:!1,datasource:m,fullScreenId:"myChartFull_"+t,download:!0,type:h(),title_name:w(),lastUpdate:E(),timeInterval:I(),datasets:[].concat(e)}}return a}(),(m=new j(Object.assign({},b))).createWidget(),m.createMutiLine()):g===x.TEXTLINE?(s=c.textLine.find(c.DOMString.id.unit).val(),d=c.valueTextLine.find(c.DOMString.id.rgb).val(),b={datasource:c.textLine.find(c.DOMString.class.valueDatasource).val(),download:!0,type:h(),title_name:w(),lastUpdate:E(),timeInterval:I(),rgb:d,unit:s},(m=new U(b)).createWidget(),m.createTextLine()):g===x.RADAR?(a=[],n=[],i=[],l=[],o=[],c.radarLabel.find(c.DOMString.class.radarLabel).each(function(){n.push($(this).val())}),c.radarValue.find(c.DOMString.class.formRadarValue).each(function(){a.push({}),i.push($(this).find(c.DOMString.class.labelRadar).val()),$(this).find(c.DOMString.class.valueDatasource).each(function(){l.push($(this).val())}),$(this).find(c.DOMString.class.radarColor).each(function(){o.push($(this).val())})}),b={datasets:a,labels:n,label:i,color:o,datasource:l,type:h(),title_name:w(),lastUpdate:E(),timeInterval:I()},(m=new R(b)).createWidget(),m.createRadar()):g===x.GAUGES?(b=function(t){var e=c.gauges.find(c.DOMString.id.g_limitMin).val(),a=c.gauges.find(c.DOMString.id.g_limitMax).val(),n=c.gauges.find(c.DOMString.id.unit).val();return{textId:"gauges-text-"+t,datasource:[c.gauges.find(c.DOMString.class.valueDatasource).val()],fullScreenId:"gaugesFull-"+t,download:!0,type:h(),title_name:w(),lastUpdate:E(),timeInterval:I(),limitMax:a,limitMin:e,unit:n,opts:{angle:0,lineWidth:.23,radiusScale:1,pointer:{length:.6,strokeWidth:.035,color:"#000000"},limitMax:!1,limitMin:!1,colorStart:"#6FADCF",colorStop:"#8FC0DA",strokeColor:"#E0E0E0",generateGradient:!0,highDpiSupport:!0,staticLabels:{font:"10px Poppins",labels:[0,Number(a)],color:"#000000",fractionDigits:0}}}}(),(m=new V(b)).createWidget(),m.createGages()):g===x.MAP?(b=function(t){var e=null;if(v){$("#map_group_data");var a=$(".value-group-data:visible").val(),n=$("input[name='start']:visible").val(),i=$("input[name='end']:visible").val();e={isGroupData:!0,datasource:{groupData:a,latitude:a+".[]"+$("input[name='latitude']:visible").val(),longitude:a+".[]"+$("input[name='longitude']:visible").val(),value:a+".[]"+$("input[name='value_data']:visible").val(),label:a+".[]"+$("input[name='label_data']:visible").val()},start:n,end:i,fullScreenId:"mapFull-"+t,download:!1,type:h(),title_name:w(),lastUpdate:E(),timeInterval:I()}}else{var r=[];c.mapValue.find(c.DOMString.class.valueOfMap).each(function(){var t=$(this).find(".latitude").val(),e=$(this).find(".longitude").val(),a=$(this).find(".value-map").val(),n=$(this).find(".label-map").val();r.push({latitude:t,longitude:e,value:a,label:n})}),e={isGroupData:!1,datasource:r,fullScreenId:"mapFull-"+t,download:!1,type:h(),title_name:w(),lastUpdate:E(),timeInterval:I()}}return e}(),(m=new B(b)).createWidget(),m.createMap()):g===x.TABLE?(b={download:!1,type:h(),title_name:w(),lastUpdate:E(),timeInterval:I(),table:p.getValue()},(m=new P(b)).createWidget(),m.createTable()):g===x.TEXTVALUE?(b=function(t){var e=c.textValue.find(c.DOMString.id.unit).val(),a=c.textValue.find(c.DOMString.id.rgb).val();return{datasource:[c.textValue.find(c.DOMString.class.valueDatasource).val()],fullScreenId:"textValueFull-"+t,download:!1,type:h(),title_name:w(),lastUpdate:E(),timeInterval:I(),unit:e,rgb:a}}(),(m=new z(b)).createWidget(),m.createTextValue()):g===x.TEXTBOX&&(t=c.textBox.find(c.DOMString.id.inputTextCustom).val(),e=c.textBox.find(c.DOMString.id.inputFontSize).val(),b={type:h(),download:!1,title_name:null,lastUpdate:null,timeInterval:null,textbox:t,fontsize:e},(m=new N(b)).createWidget(),m.createTextBox()),F.push(m)},D=function(){$("#settingW").click(function(){clearInterval(o),$(this).hide(),$(".full-screen").hide(),$(".edit-widget").show(),$("#addW").show(),$("#saveW").show(),$("#cancelW").show(),l.enableMove(!0),l.enableResize(!0)}),c.selectWidgetType.change(function(){var t;c.divValueWidget.hide(),t=h(),c.divValueWidget.hide(),c.divDefaultValue.show(),c.btnAddWidget.show(),t===x.MUTILINE?c.mutiLine.show():t===x.TEXTLINE?c.textLine.show():t===x.RADAR?(c.radar.show(),(d=new G).createRadarExample(),$("#addWidget").on("change",".radar-labels,.label-radar",function(){d.updateRadarExample()}),$("#btn-add-datasource-radar").unbind().click(function(){$(".remove-radar-labels").prop("disabled",!0),$("#btn-add-label-radar").hide(),$("#btn-edit-label-radar").show(),$(".radar-labels").prop("disabled",!0),M(),d.updateRadarExample(),$(".remove-datasource-radar").unbind().click(function(){$(this).parent().remove(),d.updateRadarExample()})}),$("#btn-edit-label-radar").unbind().click(function(){swal({title:"Are you sure?",text:"When you edit lables datasource will reset",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t&&($("#btn-add-label-radar").show(),$("#btn-edit-label-radar").hide(),$("#Radar_value").empty(),$(".radar-labels").prop("disabled",!1),$(".remove-radar-labels").prop("disabled",!1),d.updateRadarExample())})})):t===x.TABLE?(c.table.show(),(p=new s.default($("#example_table"),{col:{amount:3},row:{amount:3}})).createTableEx(),$("#btn_add_col").unbind().click(function(){p.addCol(),$(".select-datasource").change()}),$("#btn_remove_col").unbind().click(function(){p.removeCol()}),$("#btn_add_row").unbind().click(function(){p.addRow(),$(".select-datasource").change()}),$("#btn_remove_row").unbind().click(function(){p.removeRow()})):t===x.GAUGES?c.gauges.show():t===x.TEXTVALUE?c.textValue.show():t===x.TEXTBOX?(c.textBox.show(),c.divDefaultValue.hide()):t===x.MAP?$("#map").show():($("#add-new-widget").hide(),$("#default_value").hide(),$("#form-input-widget").html(""))}),c.btnAdd.unbind().click(function(){$("select").val(""),$("#addWidget").modal("show"),$(".value_widget").hide(),$("#add-new-widget").hide(),$("#default_value").hide()}),c.btnAddWidget.unbind().click(function(){L()}),c.btnSaveWidget.unbind().click(function(){var e;c.btnSaveWidget.hide(),c.btnAdd.hide(),c.btnCancelWidget.hide(),c.btnSettingWidget.show(),$(".full-screen").show(),$(".edit-widget").hide(),S(),e=_.map($(".grid-stack > .grid-stack-item:visible"),function(e){var a=(e=$(e)).data("_gridstack_node"),n=t.getWidgetById(a.id);return{x:a.x,y:a.y,width:a.width,height:a.height,widget:W.formateDataSave(n)}}),$.ajax({url:b+"company/static/dashboard",method:"PUT",data:{static_id:$("#static_id").html(),dashboard:JSON.stringify(e,null,"")},success:function(t){console.log(t)},error:function(t){console.log(t)}}),l.enableMove(!1),l.enableResize(!1)}),c.btnCancelWidget.unbind().click(function(){c.btnSaveWidget.hide(),c.btnAdd.hide(),$(".edit-widget").hide(),$(".full-screen").show(),$("#cancelW").hide(),$("#settingW").show(),S(),l.enableMove(!1),l.enableResize(!1)}),$("#btn-detail-toggle").unbind().click(function(){$("#top-header").slideToggle("fast"),$(this).toggleClass("flip")}),$("#Mutiline_value,#map_value").on("click",".remove-value",function(){$(this).parent().parent().remove()}),$("#addWidget").unbind().on("click","#btn-add-label-radar",function(){$("#Radar_label").append('  <div class="input-group">\n                                                <input type="text" class="form-control radar-labels mt-2" value="">\n                                                <div class="input-group-append">\n                                                    <button class="btn btn-danger mt-2  remove-radar-labels" type="button"><i class="fas fa-times"></i></button>\n                                                </div>\n                                            </div>'),d.updateRadarExample()}),$("#Radar_value").on("change",".radar-color",function(){d.updateRadarExample()}),$("#Radar_label").unbind().on("click",".remove-radar-labels",function(){$(this).parent().parent().remove(),d.updateRadarExample()}),$("input[name='isGroupDataMutiLine']").change(function(){if(1==(f=$(this).val()))return $("#Mutiline_value").hide(),void $("#Mutiline_group_data").show();$("#Mutiline_value").show(),$("#Mutiline_group_data").hide()}),$("input[name='isGroupDataMap']").change(function(){if(1==(v=$(this).val()))return $("#map_value").hide(),void $("#map_group_data").show();$("#map_value").show(),$("#map_group_data").hide()})},S=(e=m(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=setInterval(function(){F.length>0&&T.loadingApi&&k([].concat(F))},1e3);case 1:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)}),k=function(e){for(var a=0;a<e.length;a++){var n=e[a];n.updateData&&(t.diffTime(n.lastUpdate,n.timeInterval)>=n.timeInterval||T.firstTime?n.updateData():n.liveData&&n.liveData())}T.firstTime=!1},O=(a=m(i.a.mark(function t(e){var a,n,r,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=null,n=null,r=null,l="",e.map(function(t,e){a=null,n=t.widget,r=t,l=n.type,n.lastUpdate=E(),l===x.MUTILINE?((a=new j(n)).createWidget(r),a.createMutiLine()):l===x.GAUGES?((a=new V(n)).createWidget(r),a.createGages()):l===x.RADAR?((a=new R(n)).createWidget(r),a.createRadar()):l===x.TEXTLINE?((a=new U(n)).createWidget(r),a.createTextLine()):l===x.MAP?((a=new B(n)).createWidget(r),a.createMap()):l===x.TABLE?((a=new P(n)).createWidget(r),a.createTable()):l===x.TEXTVALUE?((a=new z(n)).createWidget(r),a.createTextValue()):l===x.TEXTBOX&&((a=new N(n)).createWidget(r),a.createTextBox()),F.push(a)}),$(".edit-widget").hide();case 6:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)});this.initDashboard=m(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return y=new X,e="",t.next=4,y.initCreate();case 4:return t.next=6,$.ajax({url:b+"company/static/"+$("#static_id").html(),method:"GET",success:function(){var t=m(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.data&&(e=GridStackUI.Utils.sort(JSON.parse(a.data[0].dashboard)));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),error:function(t){console.log(t)}});case 6:return t.next=8,O(e);case 8:return $(".grid-stack").gridstack(n),(l=$(".grid-stack").data("gridstack")).enableMove(!1),l.enableResize(!1),t.next=14,S();case 14:$("#loading").remove(),D();case 16:case"end":return t.stop()}},t,this)}))}return f(t,null,[{key:"diffTime",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=new Date,a=new Date(t),n=(e.getTime()-a.getTime())/1e3;return Math.abs(Math.round(n))}},{key:"updateGridData",value:function(t){}},{key:"getWidgetById",value:function(t){return F.find(function(e){return e.itemId==t})}}]),t}();$(document).ready(function(){$("#sidebarCollapse").click(),(new Z).initDashboard(),$(".grid-stack").on("gsresizestop",function(t,e){var a=$(e),n=JSON.parse(a.data("_gridstack_data")),i=a.data("_gridstack_node"),r=n.type;if("Gauges"===r);else if("MutiLine"===r){t.target,a.find(".card-body").width(),a.find(".card-body").height();var l=a.find(".card-body");$(l).find("canvas")}else if("Map"===r){Z.getWidgetById(i.id).myMap.invalidateSize()}})})},DuR2:function(t,e){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(a=window)}t.exports=a},SeUI:function(t,e,a){var n,i,r;!function(a,l){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=l():(i=[],void 0===(r="function"==typeof(n=l)?n.apply(e,i):n)||(t.exports=r))}(0,function(){"use strict";var t=Object.prototype.toString;function e(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function a(t){if(!t)return!0;if(i(t)&&0===t.length)return!0;if("string"!=typeof t){for(var a in t)if(e(t,a))return!1;return!0}return!1}function n(e){return t.call(e)}var i=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(t){var e=parseInt(t);return e.toString()===t?e:t}function l(t){t=t||{};var l=function(t){return Object.keys(l).reduce(function(e,a){return"create"===a?e:("function"==typeof l[a]&&(e[a]=l[a].bind(l,t)),e)},{})};function o(a,n){return t.includeInheritedProps||"number"==typeof n&&Array.isArray(a)||e(a,n)}function s(t,e){if(o(t,e))return t[e]}function d(t,e,a,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return d(t,e.split(".").map(r),a,n);var i=e[0],l=s(t,i);return 1===e.length?(void 0!==l&&n||(t[i]=a),l):(void 0===l&&("number"==typeof e[1]?t[i]=[]:t[i]={}),d(t[i],e.slice(1),a,n))}return l.has=function(a,n){if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!!a;for(var l=0;l<n.length;l++){var o=r(n[l]);if(!("number"==typeof o&&i(a)&&o<a.length||(t.includeInheritedProps?o in Object(a):e(a,o))))return!1;a=a[o]}return!0},l.ensureExists=function(t,e,a){return d(t,e,a,!0)},l.set=function(t,e,a,n){return d(t,e,a,n)},l.insert=function(t,e,a,n){var r=l.get(t,e);n=~~n,i(r)||(r=[],l.set(t,e,r)),r.splice(n,0,a)},l.empty=function(t,e){var r,s;if(!a(e)&&(null!=t&&(r=l.get(t,e)))){if("string"==typeof r)return l.set(t,e,"");if(function(t){return"boolean"==typeof t||"[object Boolean]"===n(t)}(r))return l.set(t,e,!1);if("number"==typeof r)return l.set(t,e,0);if(i(r))r.length=0;else{if(!function(t){return"object"==typeof t&&"[object Object]"===n(t)}(r))return l.set(t,e,null);for(s in r)o(r,s)&&delete r[s]}}},l.push=function(t,e){var a=l.get(t,e);i(a)||(a=[],l.set(t,e,a)),a.push.apply(a,Array.prototype.slice.call(arguments,2))},l.coalesce=function(t,e,a){for(var n,i=0,r=e.length;i<r;i++)if(void 0!==(n=l.get(t,e[i])))return n;return a},l.get=function(t,e,a){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return a;if("string"==typeof e)return l.get(t,e.split("."),a);var n=r(e[0]),i=s(t,n);return void 0===i?a:1===e.length?i:l.get(t[n],e.slice(1),a)},l.del=function(t,e){if("number"==typeof e&&(e=[e]),null==t)return t;if(a(e))return t;if("string"==typeof e)return l.del(t,e.split("."));var n=r(e[0]);return o(t,n)?1!==e.length?l.del(t[n],e.slice(1)):(i(t)?t.splice(n,1):delete t[n],t):t},l}var o=l();return o.create=l,o.withInheritedProps=l({includeInheritedProps:!0}),o})},SldL:function(t,e,a){!function(t){"use strict";var e,a=Object.prototype,n=a.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function s(t,e,a,n){var i=e&&e.prototype instanceof h?e:h,r=Object.create(i.prototype),l=new M(n||[]);return r._invoke=function(t,e,a){var n=u;return function(i,r){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw r;return D()}for(a.method=i,a.arg=r;;){var l=a.delegate;if(l){var o=I(l,a);if(o){if(o===v)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===u)throw n=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=p;var s=d(t,e,a);if("normal"===s.type){if(n=a.done?f:c,s.arg===v)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n=f,a.method="throw",a.arg=s.arg)}}}(t,a,l),r}function d(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u="suspendedStart",c="suspendedYield",p="executing",f="completed",v={};function h(){}function g(){}function m(){}var b={};b[r]=function(){return this};var y=Object.getPrototypeOf,$=y&&y(y(L([])));$&&$!==a&&n.call($,r)&&(b=$);var w=m.prototype=h.prototype=Object.create(b);function _(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function x(t){var e;this._invoke=function(a,i){function r(){return new Promise(function(e,r){!function e(a,i,r,l){var o=d(t[a],t,i);if("throw"!==o.type){var s=o.arg,u=s.value;return u&&"object"==typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,r,l)},function(t){e("throw",t,r,l)}):Promise.resolve(u).then(function(t){s.value=t,r(s)},function(t){return e("throw",t,r,l)})}l(o.arg)}(a,i,e,r)})}return e=e?e.then(r,r):r()}}function I(t,a){var n=t.iterator[a.method];if(n===e){if(a.delegate=null,"throw"===a.method){if(t.iterator.return&&(a.method="return",a.arg=e,I(t,a),"throw"===a.method))return v;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=d(n,t.iterator,a.arg);if("throw"===i.type)return a.method="throw",a.arg=i.arg,a.delegate=null,v;var r=i.arg;return r?r.done?(a[t.resultName]=r.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,v):r:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(t){if(t){var a=t[r];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,l=function a(){for(;++i<t.length;)if(n.call(t,i))return a.value=t[i],a.done=!1,a;return a.value=e,a.done=!0,a};return l.next=l}}return{next:D}}function D(){return{value:e,done:!0}}g.prototype=w.constructor=m,m.constructor=g,m[o]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},_(x.prototype),x.prototype[l]=function(){return this},t.AsyncIterator=x,t.async=function(e,a,n,i){var r=new x(s(e,a,n,i));return t.isGeneratorFunction(a)?r:r.next().then(function(t){return t.done?t.value:r.next()})},_(w),w[o]="Generator",w[r]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var n=e.pop();if(n in t)return a.value=n,a.done=!1,a}return a.done=!0,a}},t.values=L,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function i(n,i){return o.type="throw",o.arg=t,a.next=n,i&&(a.method="next",a.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],o=l.completion;if("root"===l.tryLoc)return i("end");if(l.tryLoc<=this.prev){var s=n.call(l,"catchLoc"),d=n.call(l,"finallyLoc");if(s&&d){if(this.prev<l.catchLoc)return i(l.catchLoc,!0);if(this.prev<l.finallyLoc)return i(l.finallyLoc)}else if(s){if(this.prev<l.catchLoc)return i(l.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return i(l.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var l=r?r.completion:{};return l.type=t,l.arg=e,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(l)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),E(a),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var i=n.arg;E(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:L(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),v}}}(t.exports)},Xxa5:function(t,e,a){t.exports=a("SldL")},t4zo:function(t,e,a){(function(a){var n,i,r;i=[],void 0===(r="function"==typeof(n=function(){"use strict";function e(t,e,a){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){l(n.response,e,a)},n.onerror=function(){console.error("could not download file")},n.send()}function n(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,l=r.saveAs||"object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(t,a,l){var o=r.URL||r.webkitURL,s=document.createElement("a");a=a||t.name||"download",s.download=a,s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?i(s):n(s.href)?e(t,a,l):i(s,s.target="_blank")):(s.href=o.createObjectURL(t),setTimeout(function(){o.revokeObjectURL(s.href)},4e4),setTimeout(function(){i(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,r){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Depricated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,r),a);else if(n(t))e(t,a,r);else{var l=document.createElement("a");l.href=t,l.target="_blank",setTimeout(function(){i(l)})}}:function(t,a,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,n);var l="application/octet-stream"===t.type,o=/constructor/i.test(r.HTMLElement)||r.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||l&&o)&&"object"==typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},d.readAsDataURL(t)}else{var u=r.URL||r.webkitURL,c=u.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){u.revokeObjectURL(c)},4e4)}};r.saveAs=l.saveAs=l,void 0!==t&&(t.exports=l)})?n.apply(e,i):n)||(t.exports=r)}).call(e,a("DuR2"))}});