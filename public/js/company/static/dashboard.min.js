!function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="http://localhost:8080/",a(a.s=0)}({"+pUu":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.config=a,this.createTableEx=function(){e.find("thead").empty(),e.find("tbody").empty(),e.find("thead").append("<tr></tr>");for(var t=0;t<a.col.amount;t++)e.find("thead tr").append('<th><input type="text" value="col'+t+'" class="form-control col-label"></th>');for(var n=0;n<a.row.amount;n++){for(var i="",r=0;r<a.col.amount;r++)i+=0===r?'<td><input type="text" value="row'+n+'" class="form-control row-label"></td>':'<td><input type="text" class="form-control value-datasource" placeholder="datasource">\n                                    <ul class="list-group data-list" style="display: none"></ul>\n                                </td>';e.find("tbody").append("<tr>"+i+"</tr>")}},this.addCol=function(){e.find("thead tr").append('<th><input type="text" value="col'+a.col.amount+'" class="form-control col-label"></th>'),e.find("tbody tr").each(function(){$(this).append('<td><input type="text" class="form-control value-datasource" placeholder="datasource">\n                                    <ul class="list-group data-list" style="display: none"></ul>\n                                </td>')}),a.col.amount+=1},this.removeCol=function(){a.col.amount>=2&&(e.find("thead tr th:last").remove(),e.find("tbody tr").each(function(){$(this).find("td:last").remove()}),a.col.amount-=1)},this.addRow=function(){for(var t="",n=0;n<a.col.amount;n++)t+=0===n?'<td><input type="text" value="row'+a.row.amount+'" class="form-control row-label"></td>':'<td><input type="text" class="form-control value-datasource" placeholder="datasource">\n                                <ul class="list-group data-list" style="display: none"></ul>\n                             </td>';a.row.amount+=1,e.find("tbody").append("<tr>"+t+"</tr>")},this.removeRow=function(){a.row.amount>=2&&(e.find("tbody tr:last").remove(),a.row.amount-=1)},this.getValue=function(){var t=[];e.find(".col-label").each(function(){t.push($(this).val())});var a=[];return e.find(".row-label").each(function(){var t=$(this).val(),e=[];$(this).parent().parent().find(".value-datasource").each(function(){e.push($(this).val())}),a.push({label:t,data:e})}),{col_labels:t,rows:a}}}},0:function(t,e,a){a("AG5F"),t.exports=a("X47k")},"0v0P":function(t,e,a){"use strict";a.d(e,"f",function(){return i}),a.d(e,"e",function(){return r}),a.d(e,"i",function(){return o}),a.d(e,"a",function(){return s}),e.c=function(t){var e=Math.round(t%60);if(60==e||0==e)return t/60;return Math.trunc(t/60)+e/100},e.b=function(t){var e=$(t.parent).find("input, textarea, select");e.each(function(){$(this).change(function(){var a=$(this),n={},i="";e.each(function(){i=$(this).attr("name");var t=$(this).val();n[i]=""==t?null:t});var r=validate(n,t.validate)||{};console.log(a,r),u(a,r[a.attr("name")])})})},e.d=function(t){var e=!0,a={};$(t.parent).find("input, textarea, select").each(function(){var t=$(this).attr("name"),e=$(this).val();a[t]=""==e?null:e});var n=validate(a,t.validate)||{};validate.isEmpty(n)?e=!1:(!function(t,e){var a=$(t.parent).find("input, textarea, select");console.log(e);var n=Object.keys(e);a.each(function(){var t=$(this),a=t.attr("name");n.map(function(n){n===a&&u(t,e[a])})})}(t,n),e=!0);return console.log("isError = "+e),e},e.j=function(){$("input, textarea, select").removeClass("has-success"),$("input, textarea, select").removeClass("has-error"),$(".messages-error").html("")},e.g=function(t){var e={};return function t(a,i){Array.isArray(a)?a.forEach(function(e,a){t(e,i.concat(a))}):null===a||"object"!==(void 0===a?"undefined":n(a))?e[i.join("/")]=a:Object.keys(a).forEach(function(e){t(a[e],i.concat(e))})}(t,[]),e},e.h=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){return t.map(function(t){return Object.assign({},t)})},r=function(t,e){return t=t.replace("#",""),"rgba("+parseInt(t.substring(0,2),16)+","+parseInt(t.substring(2,4),16)+","+parseInt(t.substring(4,6),16)+","+e/100+")"},o=function(){return"#"+(16777215*Math.random()<<0).toString(16)},l=null,s={set:function(t){l=t.html();var e=t.attr("data-loading-text");t.html(e),t.prop("disabled",!0)},reset:function(t){t.html(l),t.prop("disabled",!1)}};function u(t,e){validate.isEmpty(e)?(t.removeClass("has-error"),t.addClass("has-success"),t.parent().find(".messages-error").html("")):(t.removeClass("has-success"),t.addClass("has-error"),t.parent().find(".messages-error").html(e[0]))}},AG5F:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),r=a("0v0P"),o=a("t4zo"),l=a.n(o),s=a("+pUu"),u=a("SeUI"),d=a.n(u),c={DOMString:{class:{inputIsGroupDataMutiLine:".isGroupDataMutiLine",inputIsGroupDataMap:".isGroupDataMap",selectDatasource:".select-datasource:visible",valueDatasource:".value-datasource:visible",dataList:".data-list:visible",dataListValue:".data-list-value:visible",valueGroupData:".value-group-data:visible",labelChartLine:".label-y-chart-line:visible",colorChartLine:".rgb-chart-line:visible",radarLabel:".radar-labels",labelRadar:".label-radar",radarColor:".radar-color",formRadarValue:".form-radar-value:visible",removeRadarLabel:".remove-radar-labels:visible",valueOfMap:".value-of-map"},id:{inputTextCustom:"#text_custom",inputFontSize:"#font_size",start:"#start",end:"#end",g_limitMin:"#g_limitMin",g_limitMax:"#g_limitMax",unit:"#unit",rgb:"#rgb"}},staticDate:$("#static_date"),btnAdd:$("#addW"),btnAddWidget:$("#add-new-widget"),btnSaveWidget:$("#saveW"),btnCancelWidget:$("#cancelW"),btnSettingWidget:$("#settingW"),divValueWidget:$(".value-widget"),selectWidgetType:$("select[name='widget_type']"),divDefaultValue:$("#default_value"),inputTitleName:$("input[name='title_name']"),inputTimeInterVal:$("input[name='time_interval']"),textBox:$("#text_box"),mutiLine:$("#MutiLine"),mutiLine_static:$("#mutiLine_static"),mutiLineValue:$("#Mutiline_value"),radar:$("#Radar"),radarLabel:$("#Radar_label"),radarValue:$("#Radar_value"),table:$("#Table"),gauges:$("#Gauges"),textLine:$("#text-line"),valueTextLine:$("#value-text-line"),textValue:$("#TextValue"),map:$("#map"),mapValue:$("#map_value"),exampleRadar:$("#example_radar"),exampleTable:$("#example_table")},p=a("zF5W"),f=a.n(p),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}();function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function n(i,r){try{var o=e[i](r),l=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(l).then(function(t){n("next",t)},function(t){n("throw",t)});t(l)}("next")})}}Chart.defaults.global.defaultFontFamily="'Poppins', 'Kanit', 'sans-serif'";var w="http://localhost:8000/api/",x=null,S=/([a-zA-Z0-9_]+)/g,E={BAR:"Bar",MUTILINE:"MutiLine",MUTILINE_STATIC:"MutiLine_static",TEXTLINE:"TextLine",RADAR:"Radar",RADAR_STATIC:"Radar_static",GAUGES:"Gauges",MAP:"Map",MAP_STATIC:"Map_static",TEXTVALUE:"TextValue",TABLE:"Table",TABLE_STATIC:"Table_static",TEXTBOX:"TextBox"},T=null,I={loadingApi:!1,firstTime:!0},M=function t(e){var a=this;b(this,t),this.widget=e;var n=null;this.createModalEdit=function(t,e){null===n&&(n='<div class="modal fade" id="EditWidget">\n                                        <div class="modal-dialog modal-lg">\n                                            <div class="modal-content">\n                                                <div class="modal-header">\n                                                    <h5 class="modal-title">Edit Widget</h5>\n                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>\n                                                </div>\n\n                                                <div class="modal-body" id="form-edit-widget">     \n                                                </div>\n\n                                                <div class="modal-footer">\n                                                    <button type="button" id="btn-submit-edit-widget" class="btn btn-success btn-block">Save</button>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>',$("body").append(n)),$("#form-edit-widget").html(t),$("#EditWidget").modal("show")},this.submitEditClick=function(t){$("#btn-submit-edit-widget").unbind().click(function(){t()})},this.closeModalEdit=function(){$("#EditWidget").modal("hide")},this.findTitleWidget=function(){return $("#"+a.widget.itemId).find(".title-widget")}},C=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){var t=$("#edit_title").val(),e=$("#edit_time_interval").val();$(a.findTitleWidget()).html(t),a.widget.title_name=t,a.widget.timeInterval=e,a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div class="row" id="div-title">\n                            <div class="col-6">\n                                <lable>Title</label>\n                                <input type="text" class="form-control" id="edit_title"/>\n                            </div>\n                            <div class="col-6">\n                                <lable>Time interval</label>\n                                <input type="number" class="form-control" id="edit_time_interval"/>\n                            </div>\n                        </div>',n),n(),$("#edit_title").val(t.title_name),$("#edit_time_interval").val(t.timeInterval)},a}return g(e,M),e}(),k=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){var t=$("#edit_title").val(),e=$("#edit_unit").val(),n=$("#edit_time_interval").val();a.widget.itemId.replace("item-","unit_");$(a.findTitleWidget()).html(t),$("#"+a.widget.widgetId).empty(),a.widget.gaugeWidget={},a.widget.gaugeWidget=new JustGage({id:a.widget.widgetId,value:0,min:a.widget.limitMin,max:a.widget.limitMax,symbol:" "+e,relativeGaugeSize:!0,titlePosition:"below"}),$("#"+a.widget.widgetId).height($("#"+a.widgetId).height()-5),a.widget.title_name=t,a.widget.unit=e,a.widget.timeInterval=n,a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div id="edit-Gauges" class="edit-widget-form"> \n                            <div class="row">\n                                <div class="col-6">\n                                    <lable>Title</label>\n                                    <input type="text" class="form-control" id="edit_title"/>\n                                </div>\n                                <div class="col-6">\n                                    <lable>Time interval</label>\n                                    <input type="number" class="form-control" id="edit_time_interval"/>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col-6">\n                                    <lable>Unit</label>\n                                    <input type="text" class="form-control" id="edit_unit"/>\n                                </div>\n                            </div>\n                        </div>',n),n(),$("#edit_title").val(t.title_name),$("#edit_time_interval").val(t.timeInterval),$("#edit_unit").val(t.unit)},a}return g(e,M),e}(),D=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){var t=$("#edit_title").val(),e=$("#edit_time_interval").val();$(a.findTitleWidget()).html(t),a.widget.title_name=t,a.widget.timeInterval=e,a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div class="row" id="div-title">\n                            <div class="col-6">\n                                <lable>Title</label>\n                                <input type="text" class="form-control" id="edit_title"/>\n                            </div>\n                            <div class="col-6">\n                                <lable>Time interval</label>\n                                <input type="number" class="form-control" id="edit_time_interval"/>\n                            </div>\n                        </div>',n),n(),$("#edit_title").val(t.title_name),$("#edit_time_interval").val(t.timeInterval)},a}return g(e,M),e}(),O=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){var t=$("#edit-title").val(),e=$("#edit-unit").val();$(a.findTitleWidget()).html(t),$("#"+a.widget.widgetId).next("span").html(e),a.widget.title_name=t,a.widget.unit=e,a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div class="row" id="div-title">\n                            <div class="col-6">\n                                <lable>Title</label>\n                                <input type="text" class="form-control" id="edit-title"/>\n                            </div>\n                            <div class="col-6">\n                                <lable>Unit</label>\n                                <input type="text" class="form-control" id="edit-unit"/>\n                            </div>\n                        </div>',n),n(),$("#edit-title").val(t.title_name),$("#edit-unit").val(t.unit)},a}return g(e,M),e}(),A=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){var t=$("#edit_title").val(),e=$("#edit_unit").val(),n=a.widget.itemId.replace("item-","unit_");$(a.findTitleWidget()).html(t),$("#"+n).html(e),a.widget.title_name=t,a.widget.unit=e,a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div class="row" id="div-title">\n                            <div class="col-6">\n                                <lable>Title</label>\n                                <input type="text" class="form-control" id="edit_title"/>\n                            </div>\n                            <div class="col-6">\n                                <lable>Unit</label>\n                                <input type="text" class="form-control" id="edit_unit"/>\n                            </div>\n                        </div>',n),n(),$("#edit_title").val(t.title_name),$("#edit_unit").val(t.unit)},a}return g(e,M),e}(),U=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){var t=$("#edit_title").val(),e=$("#edit_time_interval").val();$(a.findTitleWidget()).html(t),$("#"+unitId).html(e),a.widget.title_name=t,a.widget.timeInterval=timeInterval,a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div id = "edit-text-box" class="value-widget">\n                            <div class="row">\n                                <div class="col-6">\n                                    <label>Title</label>\n                                    <input type="text" id="edit_title" class="form-control" />\n                                </div>\n                                <div class="col-6">\n                                    <label>Time interval</label>\n                                    <input type="number" id="edit_time_interval" class="form-control" />\n                                </div>\n                            </div>\n                        </div> ',n),n(),$("#edit_title").val(t.title_name),$("#edit_time_interval").val(t.timeInterval)},a}return g(e,M),e}(),N=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(){a.submitEditClick(i)},i=function(){$("#"+t.widgetId).html($("#edit-text-custom").val()),$("#"+t.widgetId).css({"font-size":$("#edit-font-size").val()+"px"}),t.textbox=$("#edit-text-custom").val(),t.fontsize=$("#edit-font-size").val(),a.closeModalEdit()};return a.initCreate=function(){a.createModalEdit('<div id = "edit-text-box" class="value-widget">\n                            <div class="row">\n                                <div class="col-6">\n                                    <label>Text</label>\n                                    <input type="text" id="edit-text-custom" class="form-control" />\n                                </div>\n                                <div class="col-6">\n                                    <label>Font Size (px)</label>\n                                    <input type="number" id="edit-font-size" class="form-control" />\n                                </div>\n                            </div>\n                        </div> ',n),n(),$("#edit-text-custom").val(t.textbox),$("#edit-font-size").val(t.fontsize)},a}return g(e,M),e}(),j=function(){function t(e){var a=this;b(this,t),this.itemId=e.itemId,this.widgetId=e.widgetId,this.apiName=e.apiName,this.datasource=e.datasource,this.type=e.type,this.lastUpdateId=e.lastUpdateId,this.title_name=e.title_name,this.lastUpdate=e.lastUpdate,this.timeInterval=e.timeInterval,this.wi=e.wi,this.download=e.download,this.updateLastUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?(a.lastUpdate=new Date(t),$("#"+a.lastUpdateId).html(a.lastUpdate.toDateString()+" "+a.lastUpdate.toLocaleTimeString())):(a.lastUpdate=new Date,$("#"+a.lastUpdateId).html(a.lastUpdate.toDateString()+" "+a.lastUpdate.toLocaleTimeString()))};var n={cellHeight:80,verticalMargin:10,float:!1},i=[{x:0,y:0,width:6,height:7}],o=null,s=function(){$("#type_report").change(function(){var t=$(this).parent().parent(),e=$(this).val();t.find(".daily").hide(),t.find(".monthly").hide(),t.find(".yearly").hide(),"daily"===e?t.find(".daily").show():"monthly"===e?t.find(".monthly").show():"yearly"===e&&t.find(".yearly").show()}),$(".btn-delete-wi").unbind().click(function(){c($(this))}),$(".btn-edit-wi").unbind().click(function(){var t,e,a,n;t=$(this),e=$(t).attr("item"),a=J.getWidgetById(e),n=null,a.type===E.MUTILINE?n=new C(a):a.type===E.TEXTLINE?n=new A(a):a.type===E.GAUGES?n=new k(a):a.type===E.MAP?n=new D(a):a.type===E.TEXTVALUE?n=new O(a):a.type===E.TEXTBOX?n=new N(a):a.type===E.TABLE&&(n=new U(a)),n.initCreate()}),$(".btn-full-screen").unbind().click(function(){d($(this))}),$(".btn-download").unbind().click(function(){var t=J.getWidgetById($(this).attr("item")),e=I.selectItemId?document.getElementById(t.timeSeries):document.getElementById(t.widgetId);html2canvas(e).then(function(t){l()(t.toDataURL(),"file-name.png")})}),$(".btn-time-series").unbind().click(function(){$(this).next().toggle();var t=$(this).attr("item"),e=J.getWidgetById(t),a=$(this).parent().parent().parent();a.hasClass("active-time")?(I.selectItemId=null,$("#"+e.widgetId).show(),$("#"+e.timeSeries).hide(),a.removeClass("active-time")):(I.selectItemId=t,$("#"+e.widgetId).hide(),$("#"+e.timeSeries).show(),a.addClass("active-time")),a.find(".time-series-static").slideToggle("fast",function(){$(this).is(":visible")&&e.fullChart.resize()})}),a.sliderTime&&(a.sliderTime.noUiSlider.on("update",function(t,e){u()}),$(".static_date").change(function(){J.getWidgetById(I.selectItemId).sliderTime.noUiSlider.get()&&u()}))},u=function(){try{J.getWidgetById(I.selectItemId).updateTimeSeries()}catch(t){}},d=function(t){var e=J.getWidgetById(t.attr("item"));$("#modal_full_screen").modal("show"),$("#content-widget").html(e.selectWiContentFull()),e.createFullWidget()},c=function(t){swal({title:"Are you sure?",text:"Delete this widget",icon:"warning",buttons:!0,dangerMode:!0}).then(function(e){e&&p($(t))})},p=function(t){var e=$(t).attr("item");o.removeWidget($("#"+e).closest(".grid-stack-item"));var a=H.findIndex(function(t){return t.itemId==e});H.splice(a,1)};this.selectWiContent=function(){switch(a.type){case E.MUTILINE:return a.timeSeries="time-"+a.widgetId,'<canvas id="'+a.widgetId+'"></canvas><canvas id="'+a.timeSeries+'" style="display:none"></canvas>';case E.MUTILINE_STATIC:return'<canvas id="'+a.widgetId+'"></canvas>';case E.TEXTLINE:return' <h2 class="text-left"><span id="'+a.itemId.replace("item-","value-")+'">0</span> <span  id="'+a.itemId.replace("item-","unit-")+'">'+a.unit+'</span></h2>\n                             <canvas id="'+a.widgetId+'"></canvas>\n                            ';case E.RADAR:return'<canvas id="'+a.widgetId+'"></canvas>';case E.GAUGES:return a.itemId.replace("item-","gauges-text-"),a.itemId.replace("item-","unit_"),'\n                            <div id="'+a.widgetId+'"></div>\n                            ';case E.MAP:return'<div id="'+a.widgetId+'"></div>';case E.TABLE:return'<div>\n                            <table class="table table-bordered" id="'+a.widgetId+'" >\n                                <thead></thead><tbody></tbody>\n                            </table>\n                            </div>';case E.TEXTVALUE:return'\n                            <h1 style="color:'+a.rgb+'"><span id="'+a.widgetId+'">0</span> <span>'+a.unit+"</span><h1>\n                            ";case E.TEXTBOX:return'<span id="'+a.widgetId+'"></span>'}},this.selectWiContentFull=function(){switch(a.fullScreenId="full-"+a.widgetId,a.type){case E.MUTILINE:return'<canvas id="'+a.fullScreenId+'"></canvas>';case E.TEXTLINE:return' <h2 class="text-left"><span id="'+a.itemId.replace("item-","value_full")+'">0</span> '+a.unit+'</h2>\n                             <canvas id="'+a.fullScreenId+'"></canvas>\n                            ';case E.GAUGES:return'\n                            <h2><span id="'+a.itemId.replace("item-","gauges-text-full")+'">0</span> <span>'+a.unit+'</span></h2>\n                            <canvas id="'+a.fullScreenId+'"></canvas>\n                            ';case E.MAP:return'\n                            <div id="'+fullScreenId+'"></div>\n                            '}},this.createWidget=function(){var t,e,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=Math.floor(1e5+9e5*Math.random()),e=a.type.toLowerCase(),a.itemId="item-"+t,a.widgetId=e+"-"+t,a.lastUpdateId=e+"-lastupdate-"+t;var u=i.pop()||{x:3,y:4,width:6,height:7};$(".grid-stack").gridstack(n),o=$(".grid-stack").data("gridstack");var d="";"TextBox"!==a.type?(d=$("#layout-widget").html(),a.type===E.TEXTVALUE?(u.width=4,u.height=4,d=$("#layout-widget-text-value").html()):a.type===E.MUTILINE?d=d.replace(/<<sliderTime>>/g,"slider-"+a.itemId):-1!==a.type.search("static")&&(d=$("#layout_widget_static").html()),d=(d=(d=(d=(d=d.replace(/div_id/g,a.itemId)).replace(/widget_id/g,a.widgetId)).replace("((wi))",a.selectWiContent())).replace("((title_name))",a.title_name)).replace("{last_update}",a.lastUpdateId)):(u.width=6,u.height=1,d=(d=(d=$("#layout-widget-text").html()).replace(/div_id/g,a.itemId)).replace("((wi))",a.selectWiContent())),u.id=a.itemId;var c=null;c=l?o.addWidget($(d),l.x,l.y,l.width,l.height,!0,null,null,null,null,u.id):o.addWidget($(d),u.x,u.y,u.width,u.height,!0,null,null,null,null,u.id),a.download||c.find(".full-screen").find(".btn-download").remove(),a.type!=E.MUTILINE?(c.find(".full-screen > .btn-full-screen").remove(),c.find(".btn-time-series").remove(),c.find(".time-series-static").remove(),c.find(".card-footer").css({height:"auto"})):(a.sliderTime=document.getElementById("slider-"+a.itemId),f.a.create(a.sliderTime,{start:[0,1440],connect:!0,behaviour:"tap-drag",step:10,tooltips:[!0,!0],range:{min:0,max:1440},format:wNumb({decimals:2,mark:":",encoder:function(t){return Object(r.c)(t)}})})),s()}}return v(t,null,[{key:"formateDataSave",value:function(t){var e={type:t.type,apiName:t.apiName,datasource:t.datasource,download:!!t.download&&t.download,timeInterval:t.timeInterval};return t.type===E.MUTILINE?(e.isGroupData=t.isGroupData,e.title_name=t.title_name,e.datasets=t.datasets):t.type===E.TEXTLINE?(e.title_name=t.title_name,e.unit=t.unit,e.rgb=t.rgb):t.type===E.RADAR?(e.datasets=t.datasets,e.title_name=t.title_name,e.labels=t.labels,e.label=t.label,e.color=t.color):t.type===E.GAUGES?(e.title_name=t.title_name,e.opts=t.opts,e.limitMin=t.limitMin,e.limitMax=t.limitMax,e.unit=t.unit):t.type===E.MAP?(e.isGroupData=t.isGroupData,e.title_name=t.title_name):t.type===E.TABLE?(e.title_name=t.title_name,e.table=t.table):t.type===E.TEXTVALUE?(e.title_name=t.title_name,e.unit=t.unit,e.rgb=t.rgb):t.type===E.TEXTBOX&&(e.textbox=t.textbox,e.fontsize=t.fontsize),e}}]),t}(),W=function(t){function e(t){var a,n;b(this,e),a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=a,a.isGroupData=t.isGroupData,a.fullScreenId=t.fullScreenId,a.chart=null,a.datasets=t.datasets,a.dateTimeSeries=null;var o={maintainAspectRatio:!1,scales:{yAxes:[{gridLines:{display:!1},ticks:{beginAtZero:!0,fontFamily:"'Poppins', 'Kanit', 'sans-serif'",fontStyle:"bold"}}],xAxes:[{gridLines:{display:!1},ticks:{fontFamily:"'Poppins', 'Kanit', 'sans-serif'",fontStyle:"bold"}}]},plugins:{streaming:{frameRate:30}},legend:{labels:{fontFamily:"'Poppins', 'Kanit', 'sans-serif'",fontColor:"black"}},tooltips:{mode:"nearest",intersect:!1},hover:{mode:"nearest",intersect:!1}};a.createMutiLine=function(){var t=document.getElementById(a.widgetId),e=new Chart(t,{type:"line",data:{datasets:Object(r.f)(a.datasets)},options:o});a.chart=e,a.createFullWidget()},a.updateData=function(){var t=a.chart,e=new Date;t.data.labels.push(e.toLocaleTimeString());var n=0;t.data.datasets.forEach(function(t){t.data.length>10&&t.data.splice(0,1),a.isGroupData?t.data.push(d.a.get(x.getDatasources(),a.datasource.replace("[]",n))):t.data.push(d.a.get(x.getDatasources(),a.datasource[n])),n++}),t.data.labels.length>10&&t.data.labels.splice(0,1),t.update(),a.updateLastUpdate()},a.createFullWidget=function(){var t=document.getElementById(a.timeSeries);a.fullChart=new Chart(t,{type:"line",data:{datasets:Object(r.f)(a.datasets)},options:o})};var l,s=(l=y(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.ajax({url:"/js/company/test-api-static.json",data:{},success:function(t){n.dateTimeSeries=t},error:function(t){}});case 2:case"end":return t.stop()}},t,this)})),function(){return l.apply(this,arguments)});return a.updateTimeSeries=y(i.a.mark(function t(){var e,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s();case 2:e=n.fullChart,a=0,e.data.labels=[],e.data.datasets.forEach(function(t){t.data=[]}),n.dateTimeSeries.map(function(t){e.data.labels.push(d.a.get(t,"time")),e.data.datasets.forEach(function(e){if(n.isGroupData){var i=n.datasource.split(".");i.splice(0,1),i=(i=i.join(".")).replace("[]",a),e.data.push(d.a.get(t,i))}else{var r=n.datasource[a].split(".");r.splice(0,1),r=r.join("."),e.data.push(d.a.get(t,r))}a++}),a=0}),e.update();case 8:case"end":return t.stop()}},t,this)})),a}return g(e,j),e}(),P=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));a.fullScreenId=t.fullScreenId,a.unit=t.unit,a.rgb=t.rgb;var n={maintainAspectRatio:!1,responsive:!0,scales:{yAxes:[{display:!1}],xAxes:[{display:!1}]},legend:{display:!1},elements:{point:{radius:0},line:{tension:0}},layout:{padding:{left:0,right:0,top:0,bottom:30}},stepsize:100};return a.createTextLine=function(){var t=document.getElementById(a.widgetId),e=new Chart(t,{type:"line",data:{labels:[],datasets:[{label:"",data:[],backgroundColor:["rgba(255, 255, 255, 0)"],borderColor:[a.rgb],borderWidth:2}]},options:n});return a.chart=e,a.updateData(),e},a.createFullWidget=function(){var t=document.getElementById(a.fullScreenId);new Chart(t,{type:"line",data:{labels:[],datasets:[{label:"",data:[],backgroundColor:["rgba(255, 255, 255, 0)"],borderColor:[a.rgb],borderWidth:2}]},options:n})},a.updateData=function(){var t=a.widgetId;t=t.replace(a.type.toLowerCase(),"value");var e=a.chart,n=new Date;e.data.labels.push(n.toLocaleTimeString()),e.data.datasets.forEach(function(e){e.data.length>10&&e.data.splice(0,1);var n=d.a.get(x.getDatasources(),a.datasource);e.data.push(n),$("#"+t).html(n)}),e.data.labels.length>10&&e.data.labels.splice(0,1),e.update(),a.updateLastUpdate()},a.liveData=function(){var t=a.widgetId;t=t.replace(a.type,"value_");var e=a.chart,n=new Date;e.data.labels.push(n.toLocaleTimeString()),e.data.datasets.forEach(function(t){t.data.length>10&&t.data.splice(0,1);var e=t.data[t.data.length-1];t.data.push(e)}),e.data.labels.length>10&&e.data.labels.splice(0,1),e.update()},a}return g(e,W),e}(),R=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));a.datasets=t.datasets,a.labels=t.labels,a.label=t.label,a.color=t.color,a.radar=null;var n={type:"radar",data:{labels:[],datasets:[]},options:{maintainAspectRatio:!1,legend:{position:"top"},title:{display:!0},scale:{ticks:{beginAtZero:!0}}}};return a.createRadar=function(){var t=document.getElementById(a.widgetId),e=new Chart(t,n),i=0;e.data.labels=a.labels,e.data.datasets=Object(r.f)(a.datasets),e.data.datasets.forEach(function(t){t.label=a.label[i],t.backgroundColor=Object(r.e)(a.color[i],20),t.borderColor=a.color[i],t.pointBackgroundColor=a.color[i],t.data=[],i++}),e.update(),a.radar=e},a.updateData=function(){var t=0;a.radar.data.datasets.forEach(function(e){e.data=[],a.radar.data.labels.map(function(n){var i=d.a.get(x.getDatasources(),a.datasource[t]);e.data.push(i),t++})}),a.radar.update(),a.updateLastUpdate()},a}return g(e,j),e}(),V=function t(){var e=this;b(this,t);var a={type:"radar",data:{labels:[],datasets:[]},options:{legend:{position:"top"},title:{display:!0},scale:{ticks:{beginAtZero:!0}}}};this.createRadarExample=function(){if(null===T){var t=document.getElementById("example_radar"),n=new Chart(t,a);T=n,e.updateRadarExample()}};this.updateRadarExample=function(){var t=[],e=[],a=[],n=[];Chart.helpers.color;$(".radar-labels:visible").each(function(){t.push($(this).val()),a.push(getRandomInt(0,50))}),T.data.labels=[],T.data.datasets=[],$(".label-radar:visible").each(function(){e.push($(this).val()),T.data.datasets.push({})}),$(".radar-color").each(function(){n.push($(this).val())});var i=0;T.data.labels=t,T.data.datasets.forEach(function(t){t.label=e[i],t.backgroundColor=Object(r.e)(n[i],20),t.borderColor=n[i],t.pointBackgroundColor=n[i],t.data=a,a=a.map(function(t){return t+getRandomInt(0,10)}),i++}),T.update()}},G=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.fullScreenId=t.fullScreenId,a.textId=t.textId,a.gaugeWidget=null,a.opts=t.opts,a.limitMax=t.limitMax?t.limitMax:100,a.limitMin=t.limitMin?t.limitMin:0,a.unit=t.unit,a.createGages=function(){a.gaugeWidget=new JustGage({id:a.widgetId,value:0,min:a.limitMin,max:a.limitMax,symbol:" "+a.unit,relativeGaugeSize:!0,titlePosition:"below"}),$("#"+a.widgetId).height($("#"+a.widgetId).height()-5),$("#"+a.widgetId).addClass("container")},a.updateData=function(){var t=d.a.get(x.getDatasources(),a.datasource[0]);a.gaugeWidget.refresh(t||0),a.updateLastUpdate()},a}return g(e,j),e}(),B=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.isGroupData=t.isGroupData,a.datasource=t.datasource,a.start=t.start,a.end=t.end,a.fullScreenId=t.fullScreenId,a.myMap=null,a.createMap=function(){var t=void 0,e=a.widgetId,n=$("#"+a.itemId).height()-100;$("#"+e).css("height",n),$("#"+e).css("width","auto"),t=L.map(e,{dragging:!0,zoomControl:!0,scrollWheelZoom:!1,zoomAnimation:!1}),$.getJSON("https://raw.githubusercontent.com/apisit/thailand.json/master/thailand.json").then(function(e){var a=new L.TileLayer.BoundaryCanvas("https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{boundary:e,minZoom:5,maxZoom:9,attribution:"&copy; Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ"});t.addLayer(a);var n=L.geoJSON(e);t.fitBounds(n.getBounds())}).then(function(){}),$(".grid-stack").on("change",function(e,a){null!=t&&t.invalidateSize(!0)}),a.myMap=t},a.updateData=function(){a.myMap.invalidateSize(!0);var t=[];if(a.isGroupData){var e=d.a.get(x.getDatasources(),a.datasource.groupData);for(var n in e){var i=d.a.get(x.getDatasources(),a.datasource.latitude.replace("[]",n)),r=d.a.get(x.getDatasources(),a.datasource.longitude.replace("[]",n)),o=d.a.get(x.getDatasources(),a.datasource.label.replace("[]",n)),l=d.a.get(x.getDatasources(),a.datasource.value.replace("[]",n));L.marker([i,r]).addTo(a.myMap).bindPopup(o+" : "+l),t.push([i,r,l/100])}L.heatLayer(t,{radius:75}).addTo(a.myMap)}else a.datasource.map(function(t){console.log(t.value);var e=d.a.get(x.getDatasources(),t.latitude),n=d.a.get(x.getDatasources(),t.longitude),i=t.label,r=d.a.get(x.getDatasources(),t.value);L.marker([e,n]).addTo(a.myMap).bindPopup(i+" : "+r)});a.updateLastUpdate()},a.createFullWidget=function(){var t=void 0,e=a.fullScreenId;$("#"+e).css("height","450px"),$("#"+e).css("width","auto"),t=L.map(e,{dragging:!0,zoomControl:!0,scrollWheelZoom:!1,zoomAnimation:!1}),$.getJSON("https://raw.githubusercontent.com/apisit/thailand.json/master/thailand.json").then(function(e){var a=new L.TileLayer.BoundaryCanvas("https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{boundary:e,minZoom:5,maxZoom:9,attribution:"&copy; Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ"});t.addLayer(a);var n=L.geoJSON(e);t.fitBounds(n.getBounds())}).then(function(){setTimeout(function(){t.invalidateSize(!0),$.ajax({dataType:"json",url:"/js/company/test-api.json",async:!1,success:function(e){var a=[],n=e.WeatherForecasts;for(var i in n)L.marker([n[i].location.lat,n[i].location.lon]).addTo(t).bindPopup(n[i].location.province+" อ ุณหภูมิที่ระดับพื้นผิว : "+n[i].forecasts[1].data.tc+" °C"),a.push([n[i].location.lat,n[i].location.lon,n[i].forecasts[1].data.tc/100]);L.heatLayer(a,{radius:75}).addTo(t)}})},1e3)})},a}return g(e,j),e}(),z=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.table=t.table,a.createTable=function(){a.el=$("#"+a.widgetId),a.el.find("thead").append("<tr></tr>");for(var t=0;t<a.table.col_labels.length;t++)a.el.find("thead tr").append("<th>"+a.table.col_labels[t]+"</th>");for(var e=0;e<a.table.rows.length;e++){for(var n="",i=0;i<a.table.col_labels.length;i++)n+=0===i?"<td>"+a.table.rows[e].label+"</td>":"<td></td>";a.el.find("tbody").append("<tr>"+n+"</tr>")}$("#"+a.widgetId).parent().addClass("table-responsive")},a.updateData=function(){try{var t=0,e=a.table.rows;a.el.find("tbody tr").each(function(){var a=0;$(this).find("td").not(":first").each(function(){var n=d.a.get(x.getDatasources(),e[t].data[a]);$(this).html(n),a++}),t++}),a.updateLastUpdate()}catch(t){}},a}return g(e,j),e}(),F=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.textValue=t.textValue,a.unit=t.unit,a.rgb=t.rgb,a.createTextValue=function(){},a.updateData=function(){var t=d.a.get(x.getDatasources(),a.datasource[0]);$("#"+a.widgetId).html(t),a.updateLastUpdate()},a}return g(e,j),e}(),X=function(t){function e(t){b(this,e);var a=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.textbox=t.textbox,a.fontsize=t.fontsize,a.createTextBox=function(){$("#"+a.widgetId).html(a.textbox),$("#"+a.widgetId).css({"font-size":a.fontsize+"px"})},a}return g(e,j),e}(),H=[],Z=function t(){var e=this;b(this,t);var a,n,r,o,l=null,s=[],u=[],p=[],f=0,v=(a=y(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.ajax({url:w+"company/webservices",success:function(t){(l=t.data).map(function(t){$("#webservice_id").append('<option value="'+t.webservice_id+'">'+t.service_name+"</option>")})},error:function(t){console.log(t)}});case 2:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)}),m=(n=y(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.ajax({url:w+"company/staticDatasource",method:"GET",data:{static_id:$("#static_id").html()},success:function(){var t=y(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=e.data,t.next=3,g();case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),error:function(t){console.log(t)}});case 2:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)}),g=(r=y(i.a.mark(function t(){var e,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return $("#list_datasource").empty(),$(".select-datasource").empty(),e="<h5>Datasource</h5>",a="<option value=''>--Select datasource--</option>",t.next=6,l.map(function(){var t=y(i.a.mark(function t(n,r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e+='<div class="row">\n                            <div class="col-2 edit-datasource" title="Edit" index='+r+' style="cursor:pointer"> \n                                '+n.name+'\n                            </div>\n                            <div class="col-2 unActiveApi" id="datasource-isActive-'+r+'">\n                                <b>Not active</b>\n                            </div>\n                            <div class="col-2" id="datasource-'+r+'">\n\n                            </div>\n                            <div class="col-1">\n                                <i class="fas fa-trash-alt remove-datasource" id="'+n.id+'"></i>\n                            </div>\n                        </div>',a+="<option value='"+n.id+"'>"+n.name+"</option>",f++,t.next=5,E(r);case 5:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}());case 6:setInterval(function(){_()},1e3),$(".select-datasource").html(a),$("#list_datasource").html(e).find(".remove-datasource").unbind().click(function(){var t=$(this).attr("id"),e=T(t),a=!1;H.map(function(t){t.apiName===e.name&&(a=!0)}),a?swal({title:"Warning !",text:"Can't delete datasource name : "+e.name+" because have widget used this datasource",icon:"warning",dangerMode:!0}):swal({title:"Are you sure?",text:"to delete datasource name : "+e.name,icon:"warning",buttons:!0,dangerMode:!0}).then(function(a){a&&x(t,e.name)})});case 10:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)}),x=function(t,e){$.ajax({url:w+"company/static/datasource",method:"DELETE",data:{static_id:$("#static_id").html(),id:t},success:function(e){$(".remove-datasource[id='"+t+"']").parent().parent().remove()},error:function(t){console.log(t)}})},_=function(){var t;l.map((t=y(i.a.mark(function t(e,a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(J.diffTime(e.lastUpdate,e.timeInterval)>=e.timeInterval)){t.next=4;break}return t.next=4,E(a);case 4:return t.abrupt("return");case 5:case"end":return t.stop()}},t,this)})),function(e,a){return t.apply(this,arguments)}))},E=(o=y(i.a.mark(function t(e){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l[e].URL,a=l[e].name,t.next=4,$.ajax({url:"/js/company/test-api2.json",success:function(){var t=y(i.a.mark(function t(n){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=new Date,l[e].lastUpdate=r,$("#datasource-"+e).html(r.toDateString()+" "+r.toLocaleTimeString()),$("#datasource-isActive-"+e).html("<b>Active</b>"),$("#datasource-isActive-"+e).removeClass("unActiveApi"),$("#datasource-isActive-"+e).addClass("activeApi"),s[a]=n,f===l.length&&(I.loadingApi=!0);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),error:function(t){console.log(t)}});case 4:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)}),T=function(t){return l.find(function(e){return e.id==t})},M=function(t){if("object"==(void 0===t?"undefined":h(t)))return Object.keys(t)},L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;$(e).parent().find(".data-list").empty();var a=t;$(e).val(a),C(a,e)},C=function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{u=e.match(S);var n=M(d.a.get(s,e));a.parent().find(".data-list").empty();var i="";u.length>1&&(i+='<li class="back-value-data list-group-item" back="'+u.slice(0,u.length-1).join(".")+'" style="cursor:pointer">Back</li>'),n.map(function(t){var a=d.a.get(s,e+"."+t);i+='<li class="value-data list-group-item" style="cursor:pointer" value="'+t+'">'+t+" : "+a+"</li>"});var r=a.parent().find(".data-list").append(i);r.parent().find(".data-list").hover(function(){$(this).closest(".value-datasource").focus()},function(){$(this).prev().blur(),$(this).hide()}),r.find(".value-data").unbind().click(function(){var e=$(this).parent().parent().find(".value-datasource,.value-group-data"),a=$(e).val();a+="."+$(this).attr("value"),$(e).val(a),t($(e).val(),e),$(e).focus(),$(".value-group-data").change()}),r.find(".back-value-data").unbind().click(function(){var e=$(this).attr("back");$(this).parent().parent().find(".value-datasource,.value-group-data").val(e),t(e,$(this).parent().parent().find(".value-datasource,.value-group-data"))}),$(".data-list").scrollTop(0)}catch(t){}},k={createGroupData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.find(".data-list").empty(),e.find(".value-group-data").val(t),k.updateDataGroup(t,e)},updateDataGroup:function(t,e){try{var a=M(d.a.get(s,t));e.find(".data-list").empty();var n="";a.map(function(t){n+='<li class="value-data list-group-item" style="cursor:pointer" value="'+t+'">'+t+"</li>"});var i=e.find(".data-list-group").append(n);i.find(".value-data").unbind().click(function(){var t=e.parent().parent().find(".value-group-data"),a=$(t).val();a+="."+$(this).attr("value"),$(t).val(a),k.updateDataGroup($(t).val(),e),$(t).focus(),$(".value-group-data").change()}),i.parent().find(".data-list").hover(function(){$(this).closest(".value-datasource").focus()},function(){$(this).prev().blur(),$(this).hide()}),$(".data-list").scrollTop(0)}catch(t){console.log(t)}$("#Mutiline_group_data .group-data .back-value-data,#map_group_data .group-data .back-value-data").unbind().click(function(){for(var t=$(this).attr("back").split(","),e="datasource",a=1;a<t.length;a++)e+="['"+t[a]+"']";$(this).parent().parent().find(".value-datasource,.value-group-data").val(e),C(e,$(this).parent().parent().find(".value-datasource,.value-group-data"))})},createDataValue:function(t,e){try{var a=M(d.a.get(s,t));e.find(".data-list-value").empty();var n="";a.map(function(t){var e=d.a.get(s,$(".value-group-data").val()+".0."+t);n+='<li class="value-data list-group-item" style="cursor:pointer" value="'+t+'">'+t+" : "+e+"</li>"});var i=e.find(".data-list-value").append(n);i.find(".value-data").unbind().click(function(){var t=$(this).parent().parent().find(".value-datasource"),e=$(t).val();e+="."+$(this).attr("value"),$(t).val(e),$(t).focus(),k.updateDataValue(e,t)}),i.parent().find(".data-list").hover(function(){$(this).closest(".value-datasource").focus()},function(){$(this).prev().blur(),$(this).hide()}),$(".data-list-value").scrollTop(0)}catch(t){console.log(t)}},updateDataValue:function(t,e){try{var a=M(d.a.get(s,$(".value-group-data").val()+".0"+e.val()));console.log($(".value-group-data").val()+".0"+e.val());var n=[];""!=t&&(n=t.match(S)),e.parent().find(".data-list-value").empty();var i="";1==n.length?i+='<li class="back-value-data list-group-item" back="" style="cursor:pointer">Back</li>':i+='<li class="back-value-data list-group-item" back="'+n.slice(0,n.length-1).join(".")+'" style="cursor:pointer">Back</li>',a.map(function(t){var a=d.a.get(s,""+s+$(".value-group-data").val()+".0"+e.val()+"."+t);i+='<li class="value-data list-group-item" style="cursor:pointer" value="'+t+'">'+t+" : "+a+" </li>"}),$(".data-list-value").scrollTop(0);var r=e.parent().find(".data-list-value").append(i);r.find(".value-data").unbind().click(function(){var t=$(this).parent().parent().find(".value-datasource"),e=$(t).val();e+="."+$(this).attr("value"),$(t).val(e),$(t).focus(),k.updateDataValue(e,t)}),r.find(".back-value-data").unbind().click(function(){var t=$(this).parent().parent().find(".value-datasource"),e=$(this).attr("back");""==e?t.val(""):t.val("."+e),k.updateDataValue(e,t)}),r.parent().find(".data-list").hover(function(){$(this).closest(".value-datasource").focus()},function(){$(this).prev().blur(),$(this).hide()})}catch(t){console.log(t)}}};this.setDataAccess=function(t){p=t},this.getDatasourceValue=function(t,a){return"object"==h(a[p[t]])?e.getDatasourceValue(t+1,a[p[t]]):a[p[t]]},this.fatoryGetDatasourceValue=function(t,a){try{return p=t,e.getDatasourceValue(2,s[a])}catch(t){}},this.getDatasources=function(){return s};var D,O=(D=y(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:$("#btn_add_param").unbind().click(function(){var t=$("#layout_param_add").html();$("#form_add_param").append(t).find(".remove-param").unbind().click(function(){$(this).parent().parent().remove()})}),$("#btn-add-datasource").unbind().click(function(){$("#addDatasource").modal("show")}),$("#btn-add-new-datasource").unbind().click(function(){$.ajax({url:w+"company/static/datasource",method:"POST",data:{static_id:$("#static_id").html(),name:$("#name_datasource").val(),webservice_id:$("#webservice_id").val(),timeInterval:4500},success:function(t){m(),$("#addDatasource").modal("hide")},error:function(t){console.log(t)}})}),$("#Gauges,#TextValue,#text-line").on("change",".select-datasource",function(){if($(this).parent().next().find(".value-datasource").val(""),$(this).parent().next().find(".data-list").hide(),""!=$(this).val()){var t=T($(this).val());I.apiName=t.name,$(this).parent().next().find(".value-datasource").focus(),L(t.name,$(this).parent().next().find(".value-datasource"))}else $(this).parent().next().find(".data-list").empty()}),$("#Mutiline_value").on("change",".select-datasource",function(){if($("#Mutiline_value").find(".value-datasource").val(""),$("#Mutiline_value").find(".data-list").hide(),""!=$(this).val()){var t=T($(this).val());I.apiName=t.name,L(t.name,$("#Mutiline_value").find(".value-datasource"))}else $("#Mutiline_value").find(".data-list").empty()}),$("#map_value").on("change",".select-datasource",function(){if($("#map_value").find(".value-datasource").val(""),$("#map_value").find(".data-list").hide(),""!=$(this).val()){var t=T($(this).val());I.apiName=t.name,L(t.name,$("#map_value").find(".value-datasource"))}else $(this).parent().parent().next().find(".data-list").empty()}),$("#Mutiline_group_data,#map_group_data").on("change",".select-datasource",function(){if($("#Mutiline_group_data,#map_group_data").find(".value-datasource").val(""),$("#Mutiline_group_data,#map_group_data").find(".data-list").hide(),""!=$(this).val()){var t=T($(this).val());I.apiName=t.name,k.createGroupData(t.name,$("#Mutiline_group_data,#map_group_data"))}else $(".data-list").empty(),$(".value-group-data").val("")}),$("#Mutiline_group_data,#map_group_data").on("change",".value-group-data",function(){var t=$("#Mutiline_group_data,#map_group_data"),e=d.a.get(s,$(this).val());validate.isArray(e)?(t.find("input[name='end']").val(e.length-1),k.createDataValue($(this).val()+".0",t)):$(".data-list-value,data-list-label").empty()}),$("#Mutiline_group_data").on("change",".data-list-value",function(){}),$("#Table").on("change",".select-datasource",function(){if($("#Table").find(".value-datasource").val(""),$("#Table").find(".data-list").hide(),$("#Table").find(".data-list").empty(),""!=$(this).val()){var t=T($(this).val());I.apiName=t.name,L(t.name,$("#Table").find(".value-datasource"))}}),$("#Radar").on("change",".select-datasource",function(){var t=$(this).parent().parent().next().next();if($(t).find(".value-datasource").val(""),$(t).find(".data-list").hide(),$(t).find(".data-list").empty(),""!=$(this).val()){var e=T($(this).val());I.apiName=e.name,L(e.name,$(t).find(".value-datasource"))}}),$("#addWidget .modal-body").on("focus",".value-datasource,.value-group-data",function(){$("#addWidget").find(".data-list.active-data").hide().removeClass("active-data"),$(this).next().addClass("active-data"),$(this).next().show()}),$("#Mutiline_value,#Gauges,#TextValue,#Radar").on("keyup",".value-datasource",function(){C($(this).val(),$(this))}),$("#btn-add-value-Mutiline").unbind().click(function(){var t=$("#line_value_layout").first().html(),e=c.mutiLineValue.append(t),a=c.mutiLineValue.find(c.DOMString.class.selectDatasource).val();if(""!=a){var n=T(a);e.find(c.DOMString.class.dataList).hide(),e.find(c.DOMString.class.dataList).removeClass("active-data"),L(n.name,e.find(c.DOMString.class.valueDatasource).last())}else $(this).parent().parent().next().find(c.DOMString.class.dataList).empty()}),$(".btn-add-point-map").unbind().click(function(){var t=$("#map_value_layout").first().html(),e=c.mapValue.append(t),a=c.mapValue.find(c.DOMString.class.selectDatasource).val();if(""!=a){var n=T(a);e.find(c.DOMString.class.dataList).hide(),e.find(c.DOMString.class.dataList).removeClass("active-data"),L(n.name,e.find(".value-of-map:last "+c.DOMString.class.valueDatasource))}else $(this).parent().parent().next().find(c.DOMString.class.dataList).empty()});case 15:case"end":return t.stop()}},t,this)})),function(){return D.apply(this,arguments)});this.initCreate=y(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:return t.next=4,v();case 4:return t.next=6,m();case 6:case"end":return t.stop()}},t,this)}))},J=function(){function t(){b(this,t);var e,a,n={cellHeight:80,verticalMargin:10,float:!1},o=null,l=null,u=null,p=null,h=!1,v=!1,m=null,g=function(){return c.selectWidgetType.val()},S=function(){return c.inputTitleName.val()},T=function(){return c.inputTimeInterVal.val()},M=function(){return(new Date).toUTCString()},L=function(){if(0==$(".form-radar-value:visible").length){var t=$("#layout-radar-value").html(),e=$("#layout-add-value-radar").html();$("#Radar_value").append(t),$(".radar-labels:visible").each(function(){var t=e.replace("((value-radar))",$(this).val());$(".add-value-radar:visible").append(t)})}else{var a=$("#Radar_value .form-radar-value").html();$("#Radar_value").append('<div class="form-radar-value">'+a+"</div>")}},C=function(){var t,e,a,n,i,o=g(),l=null,s=null;o===E.MUTILINE||o===E.MUTILINE_STATIC?(s=function(t){var e=[],a=null;if(h){for(var n=$(c.DOMString.class.valueGroupData).val(),i=$(c.DOMString.id.start).val(),o=$(c.DOMString.id.end).val(),l=$("input[name='value-data']:visible").val(),s=$("input[name='label-data']:visible").val(),u=i;u<=o;u++){var p,f=Object(r.i)();p={label:d.a.get(x.getDatasources(),n+"."+u+s),backgroundColor:"rgba(255,255,255,0.0)",borderColor:f,borderWidth:2},e.push(p)}a={isGroupData:!0,apiName:I.apiName,datasource:n+".[]"+l,fullScreenId:"myChartFull_"+t,download:!0,type:g(),title_name:S(),lastUpdate:M(),timeInterval:T(),datasets:[].concat(e)}}else{var v=c.mutiLine.find(c.DOMString.class.labelChartLine).length,m=[];c.mutiLineValue.find(c.DOMString.class.valueDatasource).each(function(){m.push($(this).val())});for(var b=0;b<v;b++){var y,w=c.mutiLineValue.find(c.DOMString.class.labelChartLine),_=c.mutiLineValue.find(c.DOMString.class.colorChartLine);y={label:$(w[b]).val(),backgroundColor:"rgba(255,255,255,0.0)",borderColor:$(_[b]).val(),borderWidth:2},e.push(y)}a={isGroupData:!1,apiName:I.apiName,datasource:m,fullScreenId:"myChartFull_"+t,download:!0,type:g(),title_name:S(),lastUpdate:M(),timeInterval:T(),datasets:[].concat(e)}}return a}(),(l=new W(Object.assign({},s))).createWidget(),l.createMutiLine()):o===E.TEXTLINE?(a=c.textLine.find(c.DOMString.id.unit).val(),n=c.valueTextLine.find(c.DOMString.id.rgb).val(),i=c.textLine.find(c.DOMString.class.valueDatasource).val(),s={apiName:I.apiName,datasource:i,download:!0,type:g(),title_name:S(),lastUpdate:M(),timeInterval:T(),rgb:n,unit:a},(l=new P(s)).createWidget(),l.createTextLine()):o===E.RADAR?(s=function(){var t=[],e=[],a=[],n=[],i=[];return c.radarLabel.find(c.DOMString.class.radarLabel).each(function(){e.push($(this).val())}),c.radarValue.find(c.DOMString.class.formRadarValue).each(function(){t.push({}),a.push($(this).find(c.DOMString.class.labelRadar).val()),$(this).find(c.DOMString.class.valueDatasource).each(function(){n.push($(this).val())}),$(this).find(c.DOMString.class.radarColor).each(function(){i.push($(this).val())})}),{datasets:t,labels:e,label:a,color:i,apiName:I.apiName,datasource:n,type:g(),title_name:S(),lastUpdate:M(),timeInterval:T(),download:!0}}(),(l=new R(s)).createWidget(),l.createRadar()):o===E.GAUGES?(s=function(t){var e=c.gauges.find(c.DOMString.id.g_limitMin).val(),a=c.gauges.find(c.DOMString.id.g_limitMax).val(),n=c.gauges.find(c.DOMString.id.unit).val(),i=[c.gauges.find(c.DOMString.class.valueDatasource).val()];return{textId:"gauges-text-"+t,apiName:I.apiName,datasource:i,fullScreenId:"gaugesFull-"+t,download:!0,type:g(),title_name:S(),lastUpdate:M(),timeInterval:T(),limitMax:a,limitMin:e,unit:n,opts:{angle:0,lineWidth:.23,radiusScale:1,pointer:{length:.6,strokeWidth:.035,color:"#000000"},limitMax:!1,limitMin:!1,colorStart:"#6FADCF",colorStop:"#8FC0DA",strokeColor:"#E0E0E0",generateGradient:!0,highDpiSupport:!0,staticLabels:{font:"10px Poppins",labels:[0,Number(a)],color:"#000000",fractionDigits:0}}}}(),(l=new G(s)).createWidget(),l.createGages()):o===E.MAP?(s=function(t){var e=null;if(v){$("#map_group_data");var a=$(".value-group-data:visible").val(),n=$("input[name='start']:visible").val(),i=$("input[name='end']:visible").val(),r=$("input[name='latitude']:visible").val(),o=$("input[name='longitude']:visible").val(),l=$("input[name='value_data']:visible").val(),s=$("input[name='label_data']:visible").val();e={isGroupData:!0,apiName:I.apiName,datasource:{groupData:a,latitude:a+".[]"+r,longitude:a+".[]"+o,value:a+".[]"+l,label:a+".[]"+s},start:n,end:i,fullScreenId:"mapFull-"+t,download:!1,type:g(),title_name:S(),lastUpdate:M(),timeInterval:T()}}else{var u=[];c.mapValue.find(c.DOMString.class.valueOfMap).each(function(){var t=$(this).find(".latitude").val(),e=$(this).find(".longitude").val(),a=$(this).find(".value-map").val(),n=$(this).find(".label-map").val();u.push({latitude:t,longitude:e,value:a,label:n})}),e={isGroupData:!1,apiName:I.apiName,datasource:u,fullScreenId:"mapFull-"+t,download:!1,type:g(),title_name:S(),lastUpdate:M(),timeInterval:T()}}return e}(),(l=new B(s)).createWidget(),l.createMap()):o===E.TABLE?(s={apiName:I.apiName,download:!1,type:g(),title_name:S(),lastUpdate:M(),timeInterval:T(),table:p.getValue()},(l=new z(s)).createWidget(),l.createTable()):o===E.TEXTVALUE?(s=function(t){var e=c.textValue.find(c.DOMString.id.unit).val(),a=c.textValue.find(c.DOMString.id.rgb).val(),n=[c.textValue.find(c.DOMString.class.valueDatasource).val()];return{apiName:I.apiName,datasource:n,fullScreenId:"textValueFull-"+t,download:!1,type:g(),title_name:S(),lastUpdate:M(),timeInterval:T(),unit:e,rgb:a}}(),(l=new F(s)).createWidget(),l.createTextValue()):o===E.TEXTBOX&&(t=c.textBox.find(c.DOMString.id.inputTextCustom).val(),e=c.textBox.find(c.DOMString.id.inputFontSize).val(),s={type:g(),download:!1,title_name:null,lastUpdate:null,timeInterval:null,textbox:t,fontsize:e},(l=new X(s)).createWidget(),l.createTextBox()),H.push(l)},k=function(){m=document.getElementById("sliderTime"),f.a.create(m,{start:[0,1440],connect:!0,behaviour:"tap-drag",step:10,tooltips:[!0,!0],range:{min:0,max:1440},format:wNumb({decimals:2,mark:":",encoder:function(t){return Object(r.c)(t)}})}),c.btnSettingWidget.unbind().click(function(){clearInterval(l),$(this).hide(),$(".full-screen").hide(),$(".edit-widget").show(),c.btnAdd.show(),c.btnSaveWidget.show(),c.btnCancelWidget.show(),o.enableMove(!0),o.enableResize(!0)}),c.selectWidgetType.change(function(){var t;-1!==(t=g()).search("static")&&!1,c.divValueWidget.hide(),c.divDefaultValue.show(),c.btnAddWidget.show(),t===E.MUTILINE||t===E.MUTILINE_STATIC?c.mutiLine.show():t===E.TEXTLINE?c.textLine.show():t===E.RADAR?(c.radar.show(),(u=new V).createRadarExample(),$("#addWidget").on("change",".radar-labels,.label-radar",function(){u.updateRadarExample()}),$("#btn-add-datasource-radar").unbind().click(function(){$(".remove-radar-labels").prop("disabled",!0),$("#btn-add-label-radar").hide(),$("#btn-edit-label-radar").show(),$(".radar-labels").prop("disabled",!0),L(),u.updateRadarExample(),$(".remove-datasource-radar").unbind().click(function(){$(this).parent().remove(),u.updateRadarExample()})}),$("#btn-edit-label-radar").unbind().click(function(){swal({title:"Are you sure?",text:"When you edit lables datasource will reset",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t&&($("#btn-add-label-radar").show(),$("#btn-edit-label-radar").hide(),$("#Radar_value").empty(),$(".radar-labels").prop("disabled",!1),$(".remove-radar-labels").prop("disabled",!1),u.updateRadarExample())})})):t===E.TABLE?(c.table.show(),(p=new s.default($("#example_table"),{col:{amount:3},row:{amount:3}})).createTableEx(),$("#btn_add_col").unbind().click(function(){p.addCol(),$(".select-datasource").change()}),$("#btn_remove_col").unbind().click(function(){p.removeCol()}),$("#btn_add_row").unbind().click(function(){p.addRow(),$(".select-datasource").change()}),$("#btn_remove_row").unbind().click(function(){p.removeRow()})):t===E.GAUGES?c.gauges.show():t===E.TEXTVALUE?c.textValue.show():t===E.TEXTBOX?(c.textBox.show(),c.divDefaultValue.hide()):t===E.MAP?$("#map").show():($("#add-new-widget").hide(),$("#default_value").hide(),$("#form-input-widget").html(""))}),c.btnAdd.unbind().click(function(){$("select").val(""),$("#addWidget").modal("show"),$(".value-widget").hide(),$("#add-new-widget").hide(),c.divDefaultValue.hide()}),c.btnAddWidget.unbind().click(function(){C()}),c.btnSaveWidget.unbind().click(function(){var e;c.btnSaveWidget.hide(),c.btnAdd.hide(),c.btnCancelWidget.hide(),c.btnSettingWidget.show(),$(".full-screen").show(),$(".edit-widget").hide(),D(),e=_.map($(".grid-stack > .grid-stack-item:visible"),function(e){var a=(e=$(e)).data("_gridstack_node"),n=t.getWidgetById(a.id);return{x:a.x,y:a.y,width:a.width,height:a.height,widget:j.formateDataSave(n)}}),$.ajax({url:w+"company/static/dashboard",method:"PUT",data:{static_id:$("#static_id").html(),dashboard:JSON.stringify(e,null,"")},success:function(t){console.log(t)},error:function(t){console.log(t)}}),o.enableMove(!1),o.enableResize(!1)}),c.btnCancelWidget.unbind().click(function(){c.btnSaveWidget.hide(),c.btnAdd.hide(),$(".edit-widget").hide(),$(".full-screen").show(),$("#cancelW").hide(),$("#settingW").show(),D(),o.enableMove(!1),o.enableResize(!1)}),$("#btn-detail-toggle").unbind().click(function(){$("#top-header").slideToggle("fast"),$(this).toggleClass("flip")}),$("#addWidget .modal-body").on("click",".remove-value",function(){$(this).parent().parent().remove()}),$("#addWidget").unbind().on("click","#btn-add-label-radar",function(){$("#Radar_label").append('  <div class="input-group">\n                                                <input type="text" class="form-control radar-labels mt-2" value="">\n                                                <div class="input-group-append">\n                                                    <button class="btn btn-danger mt-2  remove-radar-labels" type="button"><i class="fas fa-times"></i></button>\n                                                </div>\n                                            </div>'),u.updateRadarExample()}),$("#Radar_value").on("change",".radar-color",function(){u.updateRadarExample()}),$("#Radar_label").unbind().on("click",".remove-radar-labels",function(){$(this).parent().parent().remove(),u.updateRadarExample()}),$("input[name='isGroupDataMutiLine']").change(function(){if(1==(h=$(this).val()))return h=!0,$("#Mutiline_value").hide(),void $("#Mutiline_group_data").show();h=!1,$("#Mutiline_value").show(),$("#Mutiline_group_data").hide()}),$("input[name='isGroupDataMap']").change(function(){if(1==(v=$(this).val()))return v=!0,$("#map_value").hide(),void $("#map_group_data").show();v=!1,$("#map_value").show(),$("#map_group_data").hide()})},D=(e=y(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:l=setInterval(function(){H.length>0&&I.loadingApi&&O([].concat(H))},1e3);case 1:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)}),O=function(e){for(var a=0;a<e.length;a++){var n=e[a];n.updateData&&(t.diffTime(n.lastUpdate,n.timeInterval)>=n.timeInterval||I.firstTime?n.updateData():n.liveData&&n.liveData())}I.firstTime=!1},A=(a=y(i.a.mark(function t(e){var a,n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=null,n=null,r=null,o="",e.map(function(t,e){a=null,n=t.widget,r=t,o=n.type,n.lastUpdate=M(),o===E.MUTILINE||o===E.MUTILINE_STATIC?((a=new W(n)).createWidget(r),a.createMutiLine()):o===E.GAUGES?((a=new G(n)).createWidget(r),a.createGages()):o===E.RADAR?((a=new R(n)).createWidget(r),a.createRadar()):o===E.TEXTLINE?((a=new P(n)).createWidget(r),a.createTextLine()):o===E.MAP?((a=new B(n)).createWidget(r),a.createMap()):o===E.TABLE?((a=new z(n)).createWidget(r),a.createTable()):o===E.TEXTVALUE?((a=new F(n)).createWidget(r),a.createTextValue()):o===E.TEXTBOX&&((a=new X(n)).createWidget(r),a.createTextBox()),H.push(a)}),$(".edit-widget").hide();case 6:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)});this.initDashboard=y(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return x=new Z,e="",t.next=4,x.initCreate();case 4:return t.next=6,$.ajax({url:w+"company/static/"+$("#static_id").html(),method:"GET",success:function(t){t.data&&(e=GridStackUI.Utils.sort(JSON.parse(t.data[0].dashboard)))},error:function(t){console.log(t)}});case 6:return t.next=8,A(e);case 8:return $(".grid-stack").gridstack(n),(o=$(".grid-stack").data("gridstack")).enableMove(!1),o.enableResize(!1),t.next=14,D();case 14:$("#loading").remove(),k();case 16:case"end":return t.stop()}},t,this)}))}return v(t,null,[{key:"diffTime",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=new Date,a=new Date(t),n=(e.getTime()-a.getTime())/1e3;return Math.abs(Math.round(n))}},{key:"updateGridData",value:function(t){}},{key:"getWidgetById",value:function(t){return H.find(function(e){return e.itemId==t})}}]),t}();$(document).ready(function(){$("#sidebarCollapse").click(),(new J).initDashboard(),$(".grid-stack").on("gsresizestop",function(t,e){var a=$(e),n=JSON.parse(a.data("_gridstack_data")),i=a.data("_gridstack_node"),r=n.type;if("Gauges"===r);else if("MutiLine"===r){t.target,a.find(".card-body").width(),a.find(".card-body").height();var o=a.find(".card-body");$(o).find("canvas")}else if("Map"===r){J.getWidgetById(i.id).myMap.invalidateSize()}})})},DuR2:function(t,e){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(a=window)}t.exports=a},SeUI:function(t,e,a){var n,i,r;!function(a,o){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=o():(i=[],void 0===(r="function"==typeof(n=o)?n.apply(e,i):n)||(t.exports=r))}(0,function(){"use strict";var t=Object.prototype.toString;function e(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function a(t){if(!t)return!0;if(i(t)&&0===t.length)return!0;if("string"!=typeof t){for(var a in t)if(e(t,a))return!1;return!0}return!1}function n(e){return t.call(e)}var i=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(t){var e=parseInt(t);return e.toString()===t?e:t}function o(t){t=t||{};var o=function(t){return Object.keys(o).reduce(function(e,a){return"create"===a?e:("function"==typeof o[a]&&(e[a]=o[a].bind(o,t)),e)},{})};function l(a,n){return t.includeInheritedProps||"number"==typeof n&&Array.isArray(a)||e(a,n)}function s(t,e){if(l(t,e))return t[e]}function u(t,e,a,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return u(t,e.split(".").map(r),a,n);var i=e[0],o=s(t,i);return 1===e.length?(void 0!==o&&n||(t[i]=a),o):(void 0===o&&("number"==typeof e[1]?t[i]=[]:t[i]={}),u(t[i],e.slice(1),a,n))}return o.has=function(a,n){if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!!a;for(var o=0;o<n.length;o++){var l=r(n[o]);if(!("number"==typeof l&&i(a)&&l<a.length||(t.includeInheritedProps?l in Object(a):e(a,l))))return!1;a=a[l]}return!0},o.ensureExists=function(t,e,a){return u(t,e,a,!0)},o.set=function(t,e,a,n){return u(t,e,a,n)},o.insert=function(t,e,a,n){var r=o.get(t,e);n=~~n,i(r)||(r=[],o.set(t,e,r)),r.splice(n,0,a)},o.empty=function(t,e){var r,s;if(!a(e)&&(null!=t&&(r=o.get(t,e)))){if("string"==typeof r)return o.set(t,e,"");if(function(t){return"boolean"==typeof t||"[object Boolean]"===n(t)}(r))return o.set(t,e,!1);if("number"==typeof r)return o.set(t,e,0);if(i(r))r.length=0;else{if(!function(t){return"object"==typeof t&&"[object Object]"===n(t)}(r))return o.set(t,e,null);for(s in r)l(r,s)&&delete r[s]}}},o.push=function(t,e){var a=o.get(t,e);i(a)||(a=[],o.set(t,e,a)),a.push.apply(a,Array.prototype.slice.call(arguments,2))},o.coalesce=function(t,e,a){for(var n,i=0,r=e.length;i<r;i++)if(void 0!==(n=o.get(t,e[i])))return n;return a},o.get=function(t,e,a){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return a;if("string"==typeof e)return o.get(t,e.split("."),a);var n=r(e[0]),i=s(t,n);return void 0===i?a:1===e.length?i:o.get(t[n],e.slice(1),a)},o.del=function(t,e){if("number"==typeof e&&(e=[e]),null==t)return t;if(a(e))return t;if("string"==typeof e)return o.del(t,e.split("."));var n=r(e[0]);return l(t,n)?1!==e.length?o.del(t[n],e.slice(1)):(i(t)?t.splice(n,1):delete t[n],t):t},o}var l=o();return l.create=o,l.withInheritedProps=o({includeInheritedProps:!0}),l})},SldL:function(t,e,a){!function(t){"use strict";var e,a=Object.prototype,n=a.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(t,e,a,n){var i=e&&e.prototype instanceof v?e:v,r=Object.create(i.prototype),o=new I(n||[]);return r._invoke=function(t,e,a){var n=d;return function(i,r){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw r;return L()}for(a.method=i,a.arg=r;;){var o=a.delegate;if(o){var l=S(o,a);if(l){if(l===h)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===d)throw n=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=p;var s=u(t,e,a);if("normal"===s.type){if(n=a.done?f:c,s.arg===h)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n=f,a.method="throw",a.arg=s.arg)}}}(t,a,o),r}function u(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var d="suspendedStart",c="suspendedYield",p="executing",f="completed",h={};function v(){}function m(){}function g(){}var b={};b[r]=function(){return this};var y=Object.getPrototypeOf,w=y&&y(y(M([])));w&&w!==a&&n.call(w,r)&&(b=w);var $=g.prototype=v.prototype=Object.create(b);function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function _(t){var e;this._invoke=function(a,i){function r(){return new Promise(function(e,r){!function e(a,i,r,o){var l=u(t[a],t,i);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?Promise.resolve(d.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):Promise.resolve(d).then(function(t){s.value=t,r(s)},function(t){return e("throw",t,r,o)})}o(l.arg)}(a,i,e,r)})}return e=e?e.then(r,r):r()}}function S(t,a){var n=t.iterator[a.method];if(n===e){if(a.delegate=null,"throw"===a.method){if(t.iterator.return&&(a.method="return",a.arg=e,S(t,a),"throw"===a.method))return h;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=u(n,t.iterator,a.arg);if("throw"===i.type)return a.method="throw",a.arg=i.arg,a.delegate=null,h;var r=i.arg;return r?r.done?(a[t.resultName]=r.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,h):r:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function M(t){if(t){var a=t[r];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function a(){for(;++i<t.length;)if(n.call(t,i))return a.value=t[i],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}return{next:L}}function L(){return{value:e,done:!0}}m.prototype=$.constructor=g,g.constructor=m,g[l]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create($),t},t.awrap=function(t){return{__await:t}},x(_.prototype),_.prototype[o]=function(){return this},t.AsyncIterator=_,t.async=function(e,a,n,i){var r=new _(s(e,a,n,i));return t.isGeneratorFunction(a)?r:r.next().then(function(t){return t.done?t.value:r.next()})},x($),$[l]="Generator",$[r]=function(){return this},$.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var n=e.pop();if(n in t)return a.value=n,a.done=!1,a}return a.done=!0,a}},t.values=M,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function i(n,i){return l.type="throw",l.arg=t,a.next=n,i&&(a.method="next",a.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),T(a),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var i=n.arg;T(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:M(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),h}}}(t.exports)},X47k:function(t,e){},Xxa5:function(t,e,a){t.exports=a("SldL")},t4zo:function(t,e,a){(function(a){var n,i,r;i=[],void 0===(r="function"==typeof(n=function(){"use strict";function e(t,e,a){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){o(n.response,e,a)},n.onerror=function(){console.error("could not download file")},n.send()}function n(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,o=r.saveAs||"object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(t,a,o){var l=r.URL||r.webkitURL,s=document.createElement("a");a=a||t.name||"download",s.download=a,s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?i(s):n(s.href)?e(t,a,o):i(s,s.target="_blank")):(s.href=l.createObjectURL(t),setTimeout(function(){l.revokeObjectURL(s.href)},4e4),setTimeout(function(){i(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,r){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Depricated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,r),a);else if(n(t))e(t,a,r);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){i(o)})}}:function(t,a,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,n);var o="application/octet-stream"===t.type,l=/constructor/i.test(r.HTMLElement)||r.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||o&&l)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},u.readAsDataURL(t)}else{var d=r.URL||r.webkitURL,c=d.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){d.revokeObjectURL(c)},4e4)}};r.saveAs=o.saveAs=o,void 0!==t&&(t.exports=o)})?n.apply(e,i):n)||(t.exports=r)}).call(e,a("DuR2"))},zF5W:function(t,e,a){var n,i,r;i=[],void 0===(r="function"==typeof(n=function(){"use strict";var t="12.1.0";function e(t){return null!==t&&void 0!==t}function a(t){t.preventDefault()}function n(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function i(t,e,a){a>0&&(s(t,e),setTimeout(function(){u(t,e)},a))}function r(t){return Math.max(Math.min(t,100),0)}function o(t){return Array.isArray(t)?t:[t]}function l(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function s(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function u(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(t){var e=void 0!==window.pageXOffset,a="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:a?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:a?t.documentElement.scrollTop:t.body.scrollTop}}function c(t,e){return 100/(e-t)}function p(t,e){return 100*e/(t[1]-t[0])}function f(t,e){for(var a=1;t>=e[a];)a+=1;return a}function h(t,e,a){if(a>=t.slice(-1)[0])return 100;var n=f(a,t),i=t[n-1],r=t[n],o=e[n-1],l=e[n];return o+function(t,e){return p(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}([i,r],a)/c(o,l)}function v(t,e,a,n){if(100===n)return n;var i=f(n,t),r=t[i-1],o=t[i];return a?n-r>(o-r)/2?o:r:e[i-1]?t[i-1]+function(t,e){return Math.round(t/e)*e}(n-t[i-1],e[i-1]):n}function m(e,a,i){var r;if("number"==typeof a&&(a=[a]),!Array.isArray(a))throw new Error("noUiSlider ("+t+"): 'range' contains invalid value.");if(!n(r="min"===e?0:"max"===e?100:parseFloat(e))||!n(a[0]))throw new Error("noUiSlider ("+t+"): 'range' value isn't numeric.");i.xPct.push(r),i.xVal.push(a[0]),r?i.xSteps.push(!isNaN(a[1])&&a[1]):isNaN(a[1])||(i.xSteps[0]=a[1]),i.xHighestCompleteStep.push(0)}function g(t,e,a){if(!e)return!0;a.xSteps[t]=p([a.xVal[t],a.xVal[t+1]],e)/c(a.xPct[t],a.xPct[t+1]);var n=(a.xVal[t+1]-a.xVal[t])/a.xNumSteps[t],i=Math.ceil(Number(n.toFixed(3))-1),r=a.xVal[t]+a.xNumSteps[t]*i;a.xHighestCompleteStep[t]=r}function b(t,e,a){var n;this.xPct=[],this.xVal=[],this.xSteps=[a||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var i=[];for(n in t)t.hasOwnProperty(n)&&i.push([t[n],n]);for(i.length&&"object"==typeof i[0][0]?i.sort(function(t,e){return t[0][0]-e[0][0]}):i.sort(function(t,e){return t[0]-e[0]}),n=0;n<i.length;n++)m(i[n][1],i[n][0],this);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)g(n,this.xNumSteps[n],this)}b.prototype.getMargin=function(e){var a=this.xNumSteps[0];if(a&&e/a%1!=0)throw new Error("noUiSlider ("+t+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&p(this.xVal,e)},b.prototype.toStepping=function(t){return t=h(this.xVal,this.xPct,t)},b.prototype.fromStepping=function(t){return function(t,e,a){if(a>=100)return t.slice(-1)[0];var n=f(a,e),i=t[n-1],r=t[n],o=e[n-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([i,r],(a-o)*c(o,e[n]))}(this.xVal,this.xPct,t)},b.prototype.getStep=function(t){return t=v(this.xPct,this.xSteps,this.snap,t)},b.prototype.getNearbySteps=function(t){var e=f(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},b.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(l);return Math.max.apply(null,t)},b.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var y={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};function w(e){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(e))return!0;throw new Error("noUiSlider ("+t+"): 'format' requires 'to' and 'from' methods.")}function $(e,a){if(!n(a))throw new Error("noUiSlider ("+t+"): 'step' is not numeric.");e.singleStep=a}function x(e,a){if("object"!=typeof a||Array.isArray(a))throw new Error("noUiSlider ("+t+"): 'range' is not an object.");if(void 0===a.min||void 0===a.max)throw new Error("noUiSlider ("+t+"): Missing 'min' or 'max' in 'range'.");if(a.min===a.max)throw new Error("noUiSlider ("+t+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new b(a,e.snap,e.singleStep)}function _(e,a){if(a=o(a),!Array.isArray(a)||!a.length)throw new Error("noUiSlider ("+t+"): 'start' option is incorrect.");e.handles=a.length,e.start=a}function S(e,a){if(e.snap=a,"boolean"!=typeof a)throw new Error("noUiSlider ("+t+"): 'snap' option must be a boolean.")}function E(e,a){if(e.animate=a,"boolean"!=typeof a)throw new Error("noUiSlider ("+t+"): 'animate' option must be a boolean.")}function T(e,a){if(e.animationDuration=a,"number"!=typeof a)throw new Error("noUiSlider ("+t+"): 'animationDuration' option must be a number.")}function I(e,a){var n,i=[!1];if("lower"===a?a=[!0,!1]:"upper"===a&&(a=[!1,!0]),!0===a||!1===a){for(n=1;n<e.handles;n++)i.push(a);i.push(!1)}else{if(!Array.isArray(a)||!a.length||a.length!==e.handles+1)throw new Error("noUiSlider ("+t+"): 'connect' option doesn't match handle count.");i=a}e.connect=i}function M(e,a){switch(a){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+t+"): 'orientation' option is invalid.")}}function L(e,a){if(!n(a))throw new Error("noUiSlider ("+t+"): 'margin' option must be numeric.");if(0!==a&&(e.margin=e.spectrum.getMargin(a),!e.margin))throw new Error("noUiSlider ("+t+"): 'margin' option is only supported on linear sliders.")}function C(e,a){if(!n(a))throw new Error("noUiSlider ("+t+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(a),!e.limit||e.handles<2)throw new Error("noUiSlider ("+t+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function k(e,a){if(!n(a)&&!Array.isArray(a))throw new Error("noUiSlider ("+t+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(a)&&2!==a.length&&!n(a[0])&&!n(a[1]))throw new Error("noUiSlider ("+t+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==a){if(Array.isArray(a)||(a=[a,a]),e.padding=[e.spectrum.getMargin(a[0]),e.spectrum.getMargin(a[1])],!1===e.padding[0]||!1===e.padding[1])throw new Error("noUiSlider ("+t+"): 'padding' option is only supported on linear sliders.");if(e.padding[0]<0||e.padding[1]<0)throw new Error("noUiSlider ("+t+"): 'padding' option must be a positive number(s).");if(e.padding[0]+e.padding[1]>=100)throw new Error("noUiSlider ("+t+"): 'padding' option must not exceed 100% of the range.")}}function D(e,a){switch(a){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+t+"): 'direction' option was not recognized.")}}function O(e,a){if("string"!=typeof a)throw new Error("noUiSlider ("+t+"): 'behaviour' must be a string containing options.");var n=a.indexOf("tap")>=0,i=a.indexOf("drag")>=0,r=a.indexOf("fixed")>=0,o=a.indexOf("snap")>=0,l=a.indexOf("hover")>=0,s=a.indexOf("unconstrained")>=0;if(r){if(2!==e.handles)throw new Error("noUiSlider ("+t+"): 'fixed' behaviour must be used with 2 handles");L(e,e.start[1]-e.start[0])}if(s&&(e.margin||e.limit))throw new Error("noUiSlider ("+t+"): 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:n||o,drag:i,fixed:r,snap:o,hover:l,unconstrained:s}}function A(e,a){if(!1!==a)if(!0===a){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(!0)}else{if(e.tooltips=o(a),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+t+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+t+"): 'tooltips' must be passed a formatter or 'false'.")})}}function U(t,e){t.ariaFormat=e,w(e)}function N(t,e){t.format=e,w(e)}function j(e,a){if(e.keyboardSupport=a,"boolean"!=typeof a)throw new Error("noUiSlider ("+t+"): 'keyboardSupport' option must be a boolean.")}function W(t,e){t.documentElement=e}function P(e,a){if("string"!=typeof a&&!1!==a)throw new Error("noUiSlider ("+t+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=a}function R(e,a){if("object"!=typeof a)throw new Error("noUiSlider ("+t+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var n in e.cssClasses={},a)a.hasOwnProperty(n)&&(e.cssClasses[n]=e.cssPrefix+a[n]);else e.cssClasses=a}function V(a){var n={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:y,format:y},i={step:{r:!1,t:$},start:{r:!0,t:_},connect:{r:!0,t:I},direction:{r:!0,t:D},snap:{r:!1,t:S},animate:{r:!1,t:E},animationDuration:{r:!1,t:T},range:{r:!0,t:x},orientation:{r:!1,t:M},margin:{r:!1,t:L},limit:{r:!1,t:C},padding:{r:!1,t:k},behaviour:{r:!0,t:O},ariaFormat:{r:!1,t:U},format:{r:!1,t:N},tooltips:{r:!1,t:A},keyboardSupport:{r:!0,t:j},documentElement:{r:!1,t:W},cssPrefix:{r:!0,t:P},cssClasses:{r:!0,t:R}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};a.format&&!a.ariaFormat&&(a.ariaFormat=a.format),Object.keys(i).forEach(function(o){if(!e(a[o])&&void 0===r[o]){if(i[o].r)throw new Error("noUiSlider ("+t+"): '"+o+"' is required.");return!0}i[o].t(n,e(a[o])?a[o]:r[o])}),n.pips=a.pips;var o=document.createElement("div"),l=void 0!==o.style.msTransform,s=void 0!==o.style.transform;n.transformRule=s?"transform":l?"msTransform":"webkitTransform";return n.style=[["left","top"],["right","bottom"]][n.dir][n.ort],n}function G(e,n,l){var c,p,f,h,v,m,g,b,y=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},w=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),$=e,x=[],_=[],S=0,E=n.spectrum,T=[],I={},M=e.ownerDocument,L=n.documentElement||M.documentElement,C=M.body,k=-1,D=0,O=1,A=2,U="rtl"===M.dir||1===n.ort?0:100;function N(t,e){var a=M.createElement("div");return e&&s(a,e),t.appendChild(a),a}function j(t,e){var a=N(t,n.cssClasses.origin),i=N(a,n.cssClasses.handle);return i.setAttribute("data-handle",e),n.keyboardSupport&&i.setAttribute("tabindex","0"),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",n.ort?"vertical":"horizontal"),0===e?s(i,n.cssClasses.handleLower):e===n.handles-1&&s(i,n.cssClasses.handleUpper),a}function W(t,e){return!!e&&N(t,n.cssClasses.connect)}function P(t,e){return!!n.tooltips[e]&&N(t.firstChild,n.cssClasses.tooltip)}function R(t,e,a){var i=M.createElement("div"),r=[];r[D]=n.cssClasses.valueNormal,r[O]=n.cssClasses.valueLarge,r[A]=n.cssClasses.valueSub;var o=[];o[D]=n.cssClasses.markerNormal,o[O]=n.cssClasses.markerLarge,o[A]=n.cssClasses.markerSub;var l=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],u=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];function d(t,e){var a=e===n.cssClasses.value,i=a?r:o;return e+" "+(a?l:u)[n.ort]+" "+i[t]}return s(i,n.cssClasses.pips),s(i,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(t).forEach(function(r){!function(t,r,o){if((o=e?e(r,o):o)!==k){var l=N(i,!1);l.className=d(o,n.cssClasses.marker),l.style[n.style]=t+"%",o>D&&((l=N(i,!1)).className=d(o,n.cssClasses.value),l.setAttribute("data-value",r),l.style[n.style]=t+"%",l.innerHTML=a.to(r))}}(r,t[r][0],t[r][1])}),i}function G(){var t;v&&((t=v).parentElement.removeChild(t),v=null)}function B(e){G();var a=e.mode,n=e.density||1,i=e.filter||!1,r=function(e,a,n){if("range"===e||"steps"===e)return E.xVal;if("count"===e){if(a<2)throw new Error("noUiSlider ("+t+"): 'values' (>= 2) required for mode 'count'.");var i=a-1,r=100/i;for(a=[];i--;)a[i]=i*r;a.push(100),e="positions"}return"positions"===e?a.map(function(t){return E.fromStepping(n?E.getStep(t):t)}):"values"===e?n?a.map(function(t){return E.fromStepping(E.getStep(E.toStepping(t)))}):a:void 0}(a,e.values||!1,e.stepped||!1),o=function(t,e,a){var n,i={},r=E.xVal[0],o=E.xVal[E.xVal.length-1],l=!1,s=!1,u=0;return n=a.slice().sort(function(t,e){return t-e}),(a=n.filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==r&&(a.unshift(r),l=!0),a[a.length-1]!==o&&(a.push(o),s=!0),a.forEach(function(n,r){var o,d,c,p,f,h,v,m,g,b,y=n,w=a[r+1],$="steps"===e;if($&&(o=E.xNumSteps[r]),o||(o=w-y),!1!==y&&void 0!==w)for(o=Math.max(o,1e-7),d=y;d<=w;d=(d+o).toFixed(7)/1){for(m=(f=(p=E.toStepping(d))-u)/t,b=f/(g=Math.round(m)),c=1;c<=g;c+=1)i[(h=u+c*b).toFixed(5)]=[E.fromStepping(h),0];v=a.indexOf(d)>-1?O:$?A:D,!r&&l&&(v=0),d===w&&s||(i[p.toFixed(5)]=[d,v]),u=p}}),i}(n,a,r),l=e.format||{to:Math.round};return v=$.appendChild(R(o,i,l))}function z(){var t=c.getBoundingClientRect(),e="offset"+["Width","Height"][n.ort];return 0===n.ort?t.width||c[e]:t.height||c[e]}function F(t,e,a,i){var r=function(r){return!!(r=function(t,e,a){var n,i,r=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),l=0===t.type.indexOf("pointer");0===t.type.indexOf("MSPointer")&&(l=!0);if(r){var s=function(t){return t.target===a||a.contains(t.target)};if("touchstart"===t.type){var u=Array.prototype.filter.call(t.touches,s);if(u.length>1)return!1;n=u[0].pageX,i=u[0].pageY}else{var c=Array.prototype.find.call(t.changedTouches,s);if(!c)return!1;n=c.pageX,i=c.pageY}}e=e||d(M),(o||l)&&(n=t.clientX+e.x,i=t.clientY+e.y);return t.pageOffset=e,t.points=[n,i],t.cursor=o||l,t}(r,i.pageOffset,i.target||e))&&(!($.hasAttribute("disabled")&&!i.doNotReject)&&(o=$,l=n.cssClasses.tap,!((o.classList?o.classList.contains(l):new RegExp("\\b"+l+"\\b").test(o.className))&&!i.doNotReject)&&(!(t===y.start&&void 0!==r.buttons&&r.buttons>1)&&((!i.hover||!r.buttons)&&(w||r.preventDefault(),r.calcPoint=r.points[n.ort],void a(r,i))))));var o,l},o=[];return t.split(" ").forEach(function(t){e.addEventListener(t,r,!!w&&{passive:!0}),o.push([t,r])}),o}function X(t){var e,a,i,o,l,s,u=100*(t-(e=c,a=n.ort,i=e.getBoundingClientRect(),o=e.ownerDocument,l=o.documentElement,s=d(o),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(s.x=0),a?i.top+s.y-l.clientTop:i.left+s.x-l.clientLeft))/z();return u=r(u),n.dir?100-u:u}function H(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&J(t,e)}function Z(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return J(t,e);var a=(n.dir?-1:1)*(t.calcPoint-e.startCalcPoint);it(a>0,100*a/e.baseSize,e.locations,e.handleNumbers)}function J(t,e){e.handle&&(u(e.handle,n.cssClasses.active),S-=1),e.listeners.forEach(function(t){L.removeEventListener(t[0],t[1])}),0===S&&(u($,n.cssClasses.drag),ot(),t.cursor&&(C.style.cursor="",C.removeEventListener("selectstart",a))),e.handleNumbers.forEach(function(t){tt("change",t),tt("set",t),tt("end",t)})}function q(t,e){var i;if(1===e.handleNumbers.length){var r=p[e.handleNumbers[0]];if(r.hasAttribute("disabled"))return!1;i=r.children[0],S+=1,s(i,n.cssClasses.active)}t.stopPropagation();var o=[],l=F(y.move,L,Z,{target:t.target,handle:i,listeners:o,startCalcPoint:t.calcPoint,baseSize:z(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:x.slice()}),u=F(y.end,L,J,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers}),d=F("mouseout",L,H,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers});o.push.apply(o,l.concat(u,d)),t.cursor&&(C.style.cursor=getComputedStyle(t.target).cursor,p.length>1&&s($,n.cssClasses.drag),C.addEventListener("selectstart",a,!1)),e.handleNumbers.forEach(function(t){tt("start",t)})}function Y(t){t.stopPropagation();var e=X(t.calcPoint),a=function(t){var e=100,a=!1;return p.forEach(function(n,i){if(!n.hasAttribute("disabled")){var r=Math.abs(x[i]-t);(r<e||100===r&&100===e)&&(a=i,e=r)}}),a}(e);if(!1===a)return!1;n.events.snap||i($,n.cssClasses.tap,n.animationDuration),lt(a,e,!0,!0),ot(),tt("slide",a,!0),tt("update",a,!0),tt("change",a,!0),tt("set",a,!0),n.events.snap&&q(t,{handleNumbers:[a]})}function K(t){var e=X(t.calcPoint),a=E.getStep(e),n=E.fromStepping(a);Object.keys(I).forEach(function(t){"hover"===t.split(".")[0]&&I[t].forEach(function(t){t.call(h,n)})})}function Q(t,e){I[t]=I[t]||[],I[t].push(e),"update"===t.split(".")[0]&&p.forEach(function(t,e){tt("update",e)})}function tt(t,e,a){Object.keys(I).forEach(function(i){var r=i.split(".")[0];t===r&&I[i].forEach(function(t){t.call(h,T.map(n.format.to),e,T.slice(),a||!1,x.slice())})})}function et(t){return t+"%"}function at(t,e,a,i,o,l){return p.length>1&&!n.events.unconstrained&&(i&&e>0&&(a=Math.max(a,t[e-1]+n.margin)),o&&e<p.length-1&&(a=Math.min(a,t[e+1]-n.margin))),p.length>1&&n.limit&&(i&&e>0&&(a=Math.min(a,t[e-1]+n.limit)),o&&e<p.length-1&&(a=Math.max(a,t[e+1]-n.limit))),n.padding&&(0===e&&(a=Math.max(a,n.padding[0])),e===p.length-1&&(a=Math.min(a,100-n.padding[1]))),!((a=r(a=E.getStep(a)))===t[e]&&!l)&&a}function nt(t,e){var a=n.ort;return(a?e:t)+", "+(a?t:e)}function it(t,e,a,n){var i=a.slice(),r=[!t,t],o=[t,!t];n=n.slice(),t&&n.reverse(),n.length>1?n.forEach(function(t,a){var n=at(i,t,i[t]+e,r[a],o[a],!1);!1===n?e=0:(e=n-i[t],i[t]=n)}):r=o=[!0];var l=!1;n.forEach(function(t,n){l=lt(t,a[t]+e,r[n],o[n])||l}),l&&n.forEach(function(t){tt("update",t),tt("slide",t)})}function rt(t,e){return n.dir?100-t-e:t}function ot(){_.forEach(function(t){var e=x[t]>50?-1:1,a=3+(p.length+e*t);p[t].style.zIndex=a})}function lt(t,e,a,i){return!1!==(e=at(x,t,e,a,i,!1))&&(function(t,e){x[t]=e,T[t]=E.fromStepping(e);var a="translate("+nt(et(rt(e,0)-U),"0")+")";p[t].style[n.transformRule]=a,st(t),st(t+1)}(t,e),!0)}function st(t){if(f[t]){var e=0,a=100;0!==t&&(e=x[t-1]),t!==f.length-1&&(a=x[t]);var i=a-e,r="translate("+nt(et(rt(e,i)),"0")+")",o="scale("+nt(i/100,"1")+")";f[t].style[n.transformRule]=r+" "+o}}function ut(t,e){var a=o(t),r=void 0===x[0];e=void 0===e||!!e,n.animate&&!r&&i($,n.cssClasses.tap,n.animationDuration),_.forEach(function(t){lt(t,function(t,e){return null===t||!1===t||void 0===t?x[e]:("number"==typeof t&&(t=String(t)),t=n.format.from(t),!1===(t=E.toStepping(t))||isNaN(t)?x[e]:t)}(a[t],t),!0,!1)}),_.forEach(function(t){lt(t,x[t],!0,!0)}),ot(),_.forEach(function(t){tt("update",t),null!==a[t]&&e&&tt("set",t)})}function dt(){var t=T.map(n.format.to);return 1===t.length?t[0]:t}return s(m=$,n.cssClasses.target),0===n.dir?s(m,n.cssClasses.ltr):s(m,n.cssClasses.rtl),0===n.ort?s(m,n.cssClasses.horizontal):s(m,n.cssClasses.vertical),c=N(m,n.cssClasses.base),function(t,e){var a=N(e,n.cssClasses.connects);p=[],(f=[]).push(W(a,t[0]));for(var i=0;i<n.handles;i++)p.push(j(e,i)),_[i]=i,f.push(W(a,t[i+1]))}(n.connect,c),(g=n.events).fixed||p.forEach(function(t,e){F(y.start,t.children[0],q,{handleNumbers:[e]})}),g.tap&&F(y.start,c,Y,{}),g.hover&&F(y.move,c,K,{hover:!0}),g.drag&&f.forEach(function(t,e){if(!1!==t&&0!==e&&e!==f.length-1){var a=p[e-1],i=p[e],r=[t];s(t,n.cssClasses.draggable),g.fixed&&(r.push(a.children[0]),r.push(i.children[0])),r.forEach(function(t){F(y.start,t,q,{handles:[a,i],handleNumbers:[e-1,e]})})}}),ut(n.start),h={destroy:function(){for(var t in n.cssClasses)n.cssClasses.hasOwnProperty(t)&&u($,n.cssClasses[t]);for(;$.firstChild;)$.removeChild($.firstChild);delete $.noUiSlider},steps:function(){return x.map(function(t,e){var a=E.getNearbySteps(t),n=T[e],i=a.thisStep.step,r=null;!1!==i&&n+i>a.stepAfter.startValue&&(i=a.stepAfter.startValue-n),r=n>a.thisStep.startValue?a.thisStep.step:!1!==a.stepBefore.step&&n-a.stepBefore.highestStep,100===t?i=null:0===t&&(r=null);var o=E.countStepDecimals();return null!==i&&!1!==i&&(i=Number(i.toFixed(o))),null!==r&&!1!==r&&(r=Number(r.toFixed(o))),[r,i]})},on:Q,off:function(t){var e=t&&t.split(".")[0],a=e&&t.substring(e.length);Object.keys(I).forEach(function(t){var n=t.split(".")[0],i=t.substring(n.length);e&&e!==n||a&&a!==i||delete I[t]})},get:dt,set:ut,setHandle:function(e,a,n){var i=[];if(!((e=Number(e))>=0&&e<_.length))throw new Error("noUiSlider ("+t+"): invalid handle number, got: "+e);for(var r=0;r<_.length;r++)i[r]=null;i[e]=a,ut(i,n)},reset:function(t){ut(n.start,t)},__moveHandles:function(t,e,a){it(t,e,x,a)},options:l,updateOptions:function(t,e){var a=dt(),i=["margin","limit","padding","range","animate","snap","step","format"];i.forEach(function(e){void 0!==t[e]&&(l[e]=t[e])});var r=V(l);i.forEach(function(e){void 0!==t[e]&&(n[e]=r[e])}),E=r.spectrum,n.margin=r.margin,n.limit=r.limit,n.padding=r.padding,n.pips&&B(n.pips),x=[],ut(t.start||a,e)},target:$,removePips:G,pips:B},n.pips&&B(n.pips),n.tooltips&&(b=p.map(P),Q("update",function(t,e,a){if(b[e]){var i=t[e];!0!==n.tooltips[e]&&(i=n.tooltips[e].to(a[e])),b[e].innerHTML=i}})),Q("update",function(t,e,a,i,r){_.forEach(function(t){var e=p[t],i=at(x,t,0,!0,!0,!0),o=at(x,t,100,!0,!0,!0),l=r[t],s=n.ariaFormat.to(a[t]);i=E.fromStepping(i).toFixed(1),o=E.fromStepping(o).toFixed(1),l=E.fromStepping(l).toFixed(1),e.children[0].setAttribute("aria-valuemin",i),e.children[0].setAttribute("aria-valuemax",o),e.children[0].setAttribute("aria-valuenow",l),e.children[0].setAttribute("aria-valuetext",s)})}),h}return{__spectrum:b,version:t,create:function(e,a){if(!e||!e.nodeName)throw new Error("noUiSlider ("+t+"): create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider ("+t+"): Slider was already initialized.");var n=G(e,V(a),a);return e.noUiSlider=n,n}}})?n.apply(e,i):n)||(t.exports=r)}});